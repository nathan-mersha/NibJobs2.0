{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { collection, getDocs, query, orderBy, writeBatch, doc, serverTimestamp, onSnapshot } from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { db, functions } from \"../config/firebase\";\nimport TelegramChannelFormModal from \"../components/TelegramChannelFormModal\";\nimport TelegramChannelsList from \"../components/TelegramChannelsList\";\nimport { NibJobsIcon } from \"../assets\";\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\nexport default function TelegramChannelsScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    channels = _useState2[0],\n    setChannels = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    refreshing = _useState6[0],\n    setRefreshing = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showAddModal = _useState8[0],\n    setShowAddModal = _useState8[1];\n  var _useState9 = useState('idle'),\n    _useState0 = _slicedToArray(_useState9, 2),\n    scrapingStatus = _useState0[0],\n    setScrapingStatus = _useState0[1];\n  var _useState1 = useState(0),\n    _useState10 = _slicedToArray(_useState1, 2),\n    scrapingProgress = _useState10[0],\n    setScrapingProgress = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    scrapingMessage = _useState12[0],\n    setScrapingMessage = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    currentSessionId = _useState14[0],\n    setCurrentSessionId = _useState14[1];\n  var _useState15 = useState({\n      totalChannels: 0,\n      processedChannels: 0,\n      currentChannel: null,\n      totalJobsExtracted: 0,\n      errors: []\n    }),\n    _useState16 = _slicedToArray(_useState15, 2),\n    scrapingDetails = _useState16[0],\n    setScrapingDetails = _useState16[1];\n  var manualScrapeChannels = httpsCallable(functions, 'runTelegramScrapingNowV2');\n  useEffect(function () {\n    if (!currentSessionId) return;\n    console.log('ðŸ“¡ Setting up progress listener for session:', currentSessionId);\n    var progressDocRef = doc(db, 'scrapingProgress', currentSessionId);\n    var unsubscribe = onSnapshot(progressDocRef, function (snapshot) {\n      if (snapshot.exists()) {\n        var data = snapshot.data();\n        console.log('ðŸ“Š Progress update:', data);\n        setScrapingDetails({\n          totalChannels: data.totalChannels || 0,\n          processedChannels: data.processedChannels || 0,\n          currentChannel: data.currentChannel,\n          totalJobsExtracted: data.totalJobsExtracted || 0,\n          errors: data.errors || []\n        });\n        var progress = data.totalChannels > 0 ? Math.round(data.processedChannels / data.totalChannels * 100) : 0;\n        setScrapingProgress(progress);\n        if (data.status === 'running') {\n          setScrapingMessage(data.currentChannel ? `Processing ${data.currentChannel}... (${data.processedChannels}/${data.totalChannels})` : `Scraping in progress... (${data.processedChannels}/${data.totalChannels})`);\n        } else if (data.status === 'completed') {\n          var _data$errors, _data$errors2;\n          setScrapingMessage(`âœ… Completed! Extracted ${data.totalJobsExtracted} jobs from ${data.totalChannels} channels`);\n          setScrapingStatus('completed');\n          var errorDetails = (_data$errors = data.errors) != null && _data$errors.length ? `\\n\\nâš ï¸ Encountered ${data.errors.length} error(s):\\n${data.errors.slice(0, 3).join('\\n')}${data.errors.length > 3 ? `\\n... and ${data.errors.length - 3} more` : ''}` : '';\n          Alert.alert((_data$errors2 = data.errors) != null && _data$errors2.length ? 'Scraping Completed with Warnings âš ï¸' : 'Scraping Complete! ðŸŽ‰', `Processed: ${data.totalChannels} channels\\nJobs found: ${data.totalJobsExtracted}\\nMessages processed: ${data.totalMessagesProcessed || 0}${errorDetails}`, [{\n            text: 'View Console',\n            onPress: function onPress() {\n              return console.log('Full scraping result:', data);\n            }\n          }, {\n            text: 'OK',\n            style: 'default'\n          }]);\n          loadChannels();\n          setTimeout(function () {\n            setScrapingStatus('idle');\n            setScrapingProgress(0);\n            setScrapingMessage('');\n            setCurrentSessionId(null);\n          }, 5000);\n        } else if (data.status === 'failed') {\n          setScrapingMessage(`âŒ Scraping failed: ${data.error || 'Unknown error'}`);\n          setScrapingStatus('error');\n          Alert.alert('Scraping Failed', `Scraping failed: ${data.error || 'Unknown error'}\\n\\nCheck console for details.`, [{\n            text: 'OK'\n          }]);\n          setTimeout(function () {\n            setScrapingStatus('idle');\n            setScrapingProgress(0);\n            setScrapingMessage('');\n            setCurrentSessionId(null);\n          }, 3000);\n        }\n      }\n    }, function (error) {\n      console.error('âŒ Progress listener error:', error);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, [currentSessionId]);\n  var loadChannels = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var channelsQuery = query(collection(db, 'telegramChannels'), orderBy('createdAt', 'desc'));\n        var channelsSnapshot = yield getDocs(channelsQuery);\n        var channelsList = channelsSnapshot.docs.map(function (doc) {\n          return _objectSpread({\n            id: doc.id\n          }, doc.data());\n        });\n        setChannels(channelsList);\n      } catch (error) {\n        console.error('Error loading channels:', error);\n      } finally {\n        setLoading(false);\n        setRefreshing(false);\n      }\n    });\n    return function loadChannels() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleRefresh = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setRefreshing(true);\n      yield loadChannels();\n    });\n    return function handleRefresh() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleManualScrape = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      setScrapingStatus('scraping');\n      setScrapingProgress(0);\n      setScrapingMessage('Initializing scraper...');\n      try {\n        console.log('ðŸš€ Starting manual scrape...');\n        var result = yield manualScrapeChannels();\n        console.log('ðŸ“Š Scraping result:', result);\n        var data = result.data;\n        if (data != null && data.sessionId) {\n          console.log('ï¿½ Starting progress tracking for session:', data.sessionId);\n          setCurrentSessionId(data.sessionId);\n        }\n        if (data != null && data.success) {\n          console.log('âœ… Scraping started in background:', data);\n          if (data.errors && data.errors.length > 0) {\n            console.error('âš ï¸ Scraping completed with errors:', data.errors);\n            data.errors.forEach(function (err, index) {\n              console.error(`  Error ${index + 1}:`, err);\n            });\n          }\n          setScrapingMessage(`Scraping ${data.channelsToProcess} channels in progress...`);\n          setTimeout(function () {\n            return loadChannels();\n          }, 5000);\n        } else {\n          setScrapingMessage('âŒ Scraping failed - check console for details');\n          setScrapingStatus('error');\n          console.error('âŒ Scraping failed. Full response:', data);\n          Alert.alert('Scraping Failed', 'The scraping process failed. Please check the console for detailed error logs.', [{\n            text: 'OK'\n          }]);\n          setTimeout(function () {\n            setScrapingStatus('idle');\n            setScrapingProgress(0);\n            setScrapingMessage('');\n          }, 3000);\n        }\n      } catch (error) {\n        console.error('âŒ Manual scraping failed with exception:', error);\n        console.error('Error details:', {\n          message: error.message,\n          code: error.code,\n          details: error.details,\n          stack: error.stack\n        });\n        setScrapingStatus('error');\n        var errorMessage = error.message || String(error);\n        var errorCode = error.code || 'unknown';\n        var errorDetails = error.details || {};\n        setScrapingMessage(`âŒ Error: ${errorMessage}`);\n        Alert.alert('Scraping Failed', `An error occurred during scraping:\\n\\nError: ${errorMessage}\\nCode: ${errorCode}\\n\\nCheck console for full details.`, [{\n          text: 'View Console',\n          onPress: function onPress() {\n            console.log('=== FULL ERROR DETAILS ===');\n            console.error('Error object:', error);\n            console.error('Error details:', errorDetails);\n          }\n        }, {\n          text: 'OK',\n          style: 'cancel'\n        }]);\n        setTimeout(function () {\n          setScrapingStatus('idle');\n          setScrapingProgress(0);\n          setScrapingMessage('');\n        }, 5000);\n      }\n    });\n    return function handleManualScrape() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleChannelAdded = function handleChannelAdded() {\n    loadChannels();\n  };\n  var handleChannelsUpdate = function handleChannelsUpdate() {\n    loadChannels();\n  };\n  var enableAllChannelsForScraping = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        var batch = writeBatch(db);\n        var updatedCount = 0;\n        for (var channel of channels) {\n          if (!channel.isActive || !channel.scrapingEnabled) {\n            var channelRef = doc(db, 'telegramChannels', channel.id);\n            batch.update(channelRef, {\n              isActive: true,\n              scrapingEnabled: true,\n              updatedAt: serverTimestamp()\n            });\n            updatedCount++;\n          }\n        }\n        if (updatedCount > 0) {\n          yield batch.commit();\n          Alert.alert('Channels Updated! âœ…', `${updatedCount} channels have been enabled for scraping.`, [{\n            text: 'OK'\n          }]);\n          loadChannels();\n        } else {\n          Alert.alert('All Set! ðŸ‘', 'All channels are already enabled for scraping.', [{\n            text: 'OK'\n          }]);\n        }\n      } catch (error) {\n        console.error('Error enabling channels:', error);\n        Alert.alert('Error', 'Failed to update channel settings. Please try again.', [{\n          text: 'OK'\n        }]);\n      }\n    });\n    return function enableAllChannelsForScraping() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    loadChannels();\n  }, []);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(View, {\n        style: styles.headerContent,\n        children: [_jsx(Image, {\n          source: NibJobsIcon,\n          style: styles.headerIcon\n        }), _jsxs(View, {\n          style: styles.headerText,\n          children: [_jsx(Text, {\n            style: styles.headerTitle,\n            children: \"Telegram Channels\"\n          }), _jsx(Text, {\n            style: styles.headerSubtitle,\n            children: \"Manage job scraping sources\"\n          })]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.addButton,\n        onPress: function onPress() {\n          return setShowAddModal(true);\n        },\n        children: _jsx(Text, {\n          style: styles.addButtonText,\n          children: \"+ Add Channel\"\n        })\n      })]\n    }), _jsxs(ScrollView, {\n      style: styles.content,\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: handleRefresh,\n        colors: [colors.beeYellow],\n        tintColor: colors.beeYellow\n      }),\n      children: [_jsxs(View, {\n        style: styles.overviewSection,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Overview\"\n        }), _jsxs(View, {\n          style: styles.overviewCards,\n          children: [_jsxs(View, {\n            style: [styles.overviewCard, styles.overviewCardPrimary],\n            children: [_jsx(View, {\n              style: styles.overviewIconContainer,\n              children: _jsx(Icon, {\n                name: \"layers\",\n                size: 28,\n                color: colors.beeYellow\n              })\n            }), _jsx(Text, {\n              style: styles.overviewValue,\n              children: channels.length\n            }), _jsx(Text, {\n              style: styles.overviewLabel,\n              children: \"Total Channels\"\n            })]\n          }), _jsxs(View, {\n            style: [styles.overviewCard, styles.overviewCardSuccess],\n            children: [_jsx(View, {\n              style: styles.overviewIconContainer,\n              children: _jsx(Icon, {\n                name: \"check-circle\",\n                size: 28,\n                color: colors.success\n              })\n            }), _jsx(Text, {\n              style: styles.overviewValue,\n              children: channels.filter(function (c) {\n                return c.isActive && c.scrapingEnabled;\n              }).length\n            }), _jsx(Text, {\n              style: styles.overviewLabel,\n              children: \"Active Channels\"\n            })]\n          }), _jsxs(View, {\n            style: [styles.overviewCard, styles.overviewCardInfo],\n            children: [_jsx(View, {\n              style: styles.overviewIconContainer,\n              children: _jsx(Icon, {\n                name: \"briefcase\",\n                size: 28,\n                color: colors.honeyGold\n              })\n            }), _jsx(Text, {\n              style: styles.overviewValue,\n              children: channels.reduce(function (total, ch) {\n                return total + ch.totalJobsScraped;\n              }, 0)\n            }), _jsx(Text, {\n              style: styles.overviewLabel,\n              children: \"Total Jobs Scraped\"\n            })]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.quickActionsSection,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Quick Actions\"\n        }), _jsxs(View, {\n          style: styles.quickActions,\n          children: [_jsx(TouchableOpacity, {\n            style: [styles.actionButton, styles.actionButtonPrimary],\n            onPress: function onPress() {\n              return setShowAddModal(true);\n            },\n            children: _jsxs(View, {\n              style: styles.actionButtonContent,\n              children: [_jsx(View, {\n                style: styles.actionIconCircle,\n                children: _jsx(Icon, {\n                  name: \"add\",\n                  size: 24,\n                  color: colors.white\n                })\n              }), _jsx(Text, {\n                style: styles.actionButtonText,\n                children: \"Add Channel\"\n              })]\n            })\n          }), _jsx(TouchableOpacity, {\n            style: [styles.actionButton, styles.actionButtonSecondary],\n            onPress: handleRefresh,\n            children: _jsxs(View, {\n              style: styles.actionButtonContent,\n              children: [_jsx(View, {\n                style: styles.actionIconCircle,\n                children: _jsx(Icon, {\n                  name: \"refresh\",\n                  size: 24,\n                  color: colors.white\n                })\n              }), _jsx(Text, {\n                style: styles.actionButtonText,\n                children: \"Refresh List\"\n              })]\n            })\n          }), _jsx(TouchableOpacity, {\n            style: [styles.actionButton, styles.actionButtonWarning, scrapingStatus === 'scraping' && styles.actionButtonDisabled],\n            onPress: scrapingStatus === 'idle' ? handleManualScrape : undefined,\n            disabled: scrapingStatus === 'scraping',\n            children: _jsxs(View, {\n              style: styles.actionButtonContent,\n              children: [_jsx(View, {\n                style: styles.actionIconCircle,\n                children: scrapingStatus === 'scraping' ? _jsx(ActivityIndicator, {\n                  size: \"small\",\n                  color: colors.white\n                }) : _jsx(Icon, {\n                  name: \"rocket-launch\",\n                  size: 24,\n                  color: colors.white\n                })\n              }), _jsx(Text, {\n                style: styles.actionButtonText,\n                children: scrapingStatus === 'scraping' ? 'Scraping...' : 'Start Scrape'\n              })]\n            })\n          }), _jsx(TouchableOpacity, {\n            style: [styles.actionButton, styles.actionButtonSuccess],\n            onPress: enableAllChannelsForScraping,\n            children: _jsxs(View, {\n              style: styles.actionButtonContent,\n              children: [_jsx(View, {\n                style: styles.actionIconCircle,\n                children: _jsx(Icon, {\n                  name: \"check-circle\",\n                  size: 24,\n                  color: colors.white\n                })\n              }), _jsx(Text, {\n                style: styles.actionButtonText,\n                children: \"Enable All\"\n              })]\n            })\n          })]\n        })]\n      }), scrapingStatus !== 'idle' && _jsxs(View, {\n        style: styles.progressSection,\n        children: [_jsx(Text, {\n          style: styles.progressTitle,\n          children: \"\\uD83D\\uDD04 Scraping Status\"\n        }), _jsxs(View, {\n          style: styles.progressContainer,\n          children: [_jsx(View, {\n            style: [styles.progressBar, {\n              width: `${scrapingProgress}%`\n            }]\n          }), _jsxs(Text, {\n            style: styles.progressPercentage,\n            children: [scrapingProgress, \"%\"]\n          })]\n        }), _jsx(Text, {\n          style: styles.progressMessage,\n          children: scrapingMessage\n        }), scrapingStatus === 'scraping' && scrapingDetails.totalChannels > 0 && _jsxs(View, {\n          style: styles.progressDetails,\n          children: [_jsxs(View, {\n            style: styles.progressDetailRow,\n            children: [_jsx(Text, {\n              style: styles.progressDetailLabel,\n              children: \"\\uD83D\\uDCFA Total Channels:\"\n            }), _jsx(Text, {\n              style: styles.progressDetailValue,\n              children: scrapingDetails.totalChannels\n            })]\n          }), _jsxs(View, {\n            style: styles.progressDetailRow,\n            children: [_jsx(Text, {\n              style: styles.progressDetailLabel,\n              children: \"\\u2705 Processed:\"\n            }), _jsxs(Text, {\n              style: styles.progressDetailValue,\n              children: [scrapingDetails.processedChannels, \" / \", scrapingDetails.totalChannels]\n            })]\n          }), scrapingDetails.currentChannel && _jsxs(View, {\n            style: styles.progressDetailRow,\n            children: [_jsx(Text, {\n              style: styles.progressDetailLabel,\n              children: \"\\uD83D\\uDD0D Current:\"\n            }), _jsx(Text, {\n              style: [styles.progressDetailValue, styles.currentChannel],\n              children: scrapingDetails.currentChannel\n            })]\n          }), _jsxs(View, {\n            style: styles.progressDetailRow,\n            children: [_jsx(Text, {\n              style: styles.progressDetailLabel,\n              children: \"\\uD83D\\uDCBC Jobs Found:\"\n            }), _jsx(Text, {\n              style: [styles.progressDetailValue, styles.jobsCount],\n              children: scrapingDetails.totalJobsExtracted\n            })]\n          }), scrapingDetails.errors && scrapingDetails.errors.length > 0 && _jsxs(View, {\n            style: styles.progressDetailRow,\n            children: [_jsx(Text, {\n              style: styles.progressDetailLabel,\n              children: \"\\u26A0\\uFE0F Errors:\"\n            }), _jsx(Text, {\n              style: [styles.progressDetailValue, styles.errorCount],\n              children: scrapingDetails.errors.length\n            })]\n          })]\n        }), scrapingDetails.errors && scrapingDetails.errors.length > 0 && _jsxs(View, {\n          style: styles.errorSection,\n          children: [_jsx(Text, {\n            style: styles.errorSectionTitle,\n            children: \"\\u26A0\\uFE0F Errors Encountered:\"\n          }), _jsxs(ScrollView, {\n            style: styles.errorList,\n            nestedScrollEnabled: true,\n            children: [scrapingDetails.errors.slice(0, 5).map(function (error, index) {\n              return _jsxs(View, {\n                style: styles.errorItem,\n                children: [_jsxs(Text, {\n                  style: styles.errorNumber,\n                  children: [index + 1, \".\"]\n                }), _jsx(Text, {\n                  style: styles.errorText,\n                  numberOfLines: 2,\n                  children: error\n                })]\n              }, index);\n            }), scrapingDetails.errors.length > 5 && _jsxs(Text, {\n              style: styles.errorMore,\n              children: [\"... and \", scrapingDetails.errors.length - 5, \" more errors (check console)\"]\n            })]\n          })]\n        }), scrapingProgress > 0 && _jsxs(Text, {\n          style: styles.progressPercent,\n          children: [scrapingProgress, \"%\"]\n        })]\n      }), _jsx(View, {\n        style: styles.channelsSection,\n        children: _jsx(TelegramChannelsList, {\n          channels: channels,\n          onChannelsUpdate: handleChannelsUpdate,\n          loading: loading\n        })\n      })]\n    }), _jsx(TelegramChannelFormModal, {\n      visible: showAddModal,\n      onClose: function onClose() {\n        return setShowAddModal(false);\n      },\n      onChannelAdded: handleChannelAdded\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cream\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    backgroundColor: colors.white,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.lightGray\n  },\n  headerContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1\n  },\n  headerIcon: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    marginRight: 12\n  },\n  headerText: {\n    flex: 1\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginTop: 2\n  },\n  addButton: {\n    backgroundColor: colors.beeYellow,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderRadius: 8\n  },\n  addButtonText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.deepNavy\n  },\n  content: {\n    flex: 1,\n    padding: 20\n  },\n  overviewSection: {\n    marginBottom: 32\n  },\n  sectionTitle: {\n    fontSize: 22,\n    fontWeight: '700',\n    color: colors.deepNavy,\n    marginBottom: 16,\n    letterSpacing: -0.5\n  },\n  overviewCards: {\n    flexDirection: 'row',\n    gap: 16\n  },\n  overviewCard: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 24,\n    borderRadius: 16,\n    alignItems: 'center',\n    shadowColor: colors.deepNavy,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.08,\n    shadowRadius: 12,\n    elevation: 4,\n    borderWidth: 1,\n    borderColor: 'rgba(0, 0, 0, 0.04)'\n  },\n  overviewCardPrimary: {\n    backgroundColor: '#FFF9E6',\n    borderColor: colors.beeYellow,\n    borderWidth: 2\n  },\n  overviewCardSuccess: {\n    backgroundColor: '#F0FAF4',\n    borderColor: colors.success,\n    borderWidth: 2\n  },\n  overviewCardInfo: {\n    backgroundColor: '#FFF8EC',\n    borderColor: colors.honeyGold,\n    borderWidth: 2\n  },\n  overviewIconContainer: {\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: colors.white,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 12,\n    shadowColor: colors.deepNavy,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 8,\n    elevation: 3\n  },\n  overviewValue: {\n    fontSize: 32,\n    fontWeight: '700',\n    color: colors.deepNavy,\n    marginBottom: 4,\n    letterSpacing: -1\n  },\n  overviewLabel: {\n    fontSize: 13,\n    color: colors.charcoal,\n    fontWeight: '500',\n    textAlign: 'center'\n  },\n  quickActionsSection: {\n    marginBottom: 24\n  },\n  quickActions: {\n    flexDirection: 'row',\n    gap: 12\n  },\n  quickActionButton: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: colors.lightGray\n  },\n  quickActionButtonDisabled: {\n    opacity: 0.6,\n    backgroundColor: colors.lightGray\n  },\n  quickActionIcon: {\n    fontSize: 20,\n    marginBottom: 8\n  },\n  quickActionText: {\n    fontSize: 12,\n    fontWeight: '500',\n    color: colors.charcoal,\n    textAlign: 'center'\n  },\n  progressSection: {\n    backgroundColor: colors.white,\n    padding: 16,\n    marginBottom: 24,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: colors.lightGray\n  },\n  progressTitle: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.charcoal,\n    marginBottom: 12\n  },\n  progressContainer: {\n    height: 8,\n    backgroundColor: colors.lightGray,\n    borderRadius: 4,\n    overflow: 'hidden',\n    marginBottom: 8,\n    position: 'relative'\n  },\n  progressBar: {\n    height: '100%',\n    backgroundColor: colors.beeYellow,\n    borderRadius: 4\n  },\n  progressPercentage: {\n    position: 'absolute',\n    right: 4,\n    top: -2,\n    fontSize: 11,\n    fontWeight: '600',\n    color: colors.deepNavy\n  },\n  progressMessage: {\n    fontSize: 13,\n    color: colors.warmGray,\n    marginBottom: 12,\n    textAlign: 'center'\n  },\n  progressDetails: {\n    backgroundColor: colors.cream,\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 8\n  },\n  progressDetailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  progressDetailLabel: {\n    fontSize: 13,\n    color: colors.charcoal,\n    fontWeight: '500'\n  },\n  progressDetailValue: {\n    fontSize: 13,\n    color: colors.deepNavy,\n    fontWeight: '600'\n  },\n  currentChannel: {\n    color: colors.beeYellow,\n    fontWeight: '700'\n  },\n  jobsCount: {\n    color: colors.success,\n    fontSize: 14,\n    fontWeight: '700'\n  },\n  errorCount: {\n    color: colors.danger,\n    fontSize: 14,\n    fontWeight: '700'\n  },\n  errorSection: {\n    backgroundColor: '#FFF5F5',\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 12,\n    borderWidth: 1,\n    borderColor: '#FED7D7'\n  },\n  errorSectionTitle: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: colors.danger,\n    marginBottom: 8\n  },\n  errorList: {\n    maxHeight: 150\n  },\n  errorItem: {\n    flexDirection: 'row',\n    marginBottom: 6,\n    paddingVertical: 4\n  },\n  errorNumber: {\n    fontSize: 12,\n    color: colors.danger,\n    fontWeight: '600',\n    marginRight: 6,\n    minWidth: 20\n  },\n  errorText: {\n    fontSize: 11,\n    color: colors.charcoal,\n    flex: 1,\n    lineHeight: 16\n  },\n  errorMore: {\n    fontSize: 11,\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    marginTop: 4,\n    textAlign: 'center'\n  },\n  progressPercent: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: colors.charcoal,\n    textAlign: 'right'\n  },\n  channelsSection: {\n    marginBottom: 24\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","TouchableOpacity","SafeAreaView","RefreshControl","Alert","ActivityIndicator","Image","collection","getDocs","query","orderBy","writeBatch","doc","serverTimestamp","onSnapshot","httpsCallable","db","functions","TelegramChannelFormModal","TelegramChannelsList","NibJobsIcon","Icon","jsx","_jsx","jsxs","_jsxs","colors","beeYellow","honeyGold","darkYellow","deepNavy","charcoal","cream","white","warmGray","lightGray","success","danger","warning","TelegramChannelsScreen","_useState","_useState2","_slicedToArray","channels","setChannels","_useState3","_useState4","loading","setLoading","_useState5","_useState6","refreshing","setRefreshing","_useState7","_useState8","showAddModal","setShowAddModal","_useState9","_useState0","scrapingStatus","setScrapingStatus","_useState1","_useState10","scrapingProgress","setScrapingProgress","_useState11","_useState12","scrapingMessage","setScrapingMessage","_useState13","_useState14","currentSessionId","setCurrentSessionId","_useState15","totalChannels","processedChannels","currentChannel","totalJobsExtracted","errors","_useState16","scrapingDetails","setScrapingDetails","manualScrapeChannels","console","log","progressDocRef","unsubscribe","snapshot","exists","data","progress","Math","round","status","_data$errors","_data$errors2","errorDetails","length","slice","join","alert","totalMessagesProcessed","text","onPress","style","loadChannels","setTimeout","error","_ref","_asyncToGenerator","channelsQuery","channelsSnapshot","channelsList","docs","map","_objectSpread","id","apply","arguments","handleRefresh","_ref2","handleManualScrape","_ref3","result","sessionId","forEach","err","index","channelsToProcess","message","code","details","stack","errorMessage","String","errorCode","handleChannelAdded","handleChannelsUpdate","enableAllChannelsForScraping","_ref4","batch","updatedCount","channel","isActive","scrapingEnabled","channelRef","update","updatedAt","commit","styles","container","children","header","headerContent","source","headerIcon","headerText","headerTitle","headerSubtitle","addButton","addButtonText","content","refreshControl","onRefresh","tintColor","overviewSection","sectionTitle","overviewCards","overviewCard","overviewCardPrimary","overviewIconContainer","name","size","color","overviewValue","overviewLabel","overviewCardSuccess","filter","c","overviewCardInfo","reduce","total","ch","totalJobsScraped","quickActionsSection","quickActions","actionButton","actionButtonPrimary","actionButtonContent","actionIconCircle","actionButtonText","actionButtonSecondary","actionButtonWarning","actionButtonDisabled","undefined","disabled","actionButtonSuccess","progressSection","progressTitle","progressContainer","progressBar","width","progressPercentage","progressMessage","progressDetails","progressDetailRow","progressDetailLabel","progressDetailValue","jobsCount","errorCount","errorSection","errorSectionTitle","errorList","nestedScrollEnabled","errorItem","errorNumber","errorText","numberOfLines","errorMore","progressPercent","channelsSection","onChannelsUpdate","visible","onClose","onChannelAdded","create","flex","backgroundColor","flexDirection","justifyContent","alignItems","padding","borderBottomWidth","borderBottomColor","height","borderRadius","marginRight","fontSize","fontWeight","marginTop","paddingHorizontal","paddingVertical","marginBottom","letterSpacing","gap","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderWidth","borderColor","textAlign","quickActionButton","quickActionButtonDisabled","opacity","quickActionIcon","quickActionText","overflow","position","right","top","maxHeight","minWidth","lineHeight","fontStyle"],"sources":["/home/nathan/Documents/Workspace/NibJobs 2.0/mobile/src/screens/TelegramChannelsScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  SafeAreaView,\n  RefreshControl,\n  Alert,\n  ActivityIndicator,\n  Image,\n} from 'react-native';\nimport { collection, getDocs, query, orderBy, writeBatch, doc, serverTimestamp, onSnapshot } from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { db, functions } from '../config/firebase';\nimport TelegramChannelFormModal from '../components/TelegramChannelFormModal';\nimport TelegramChannelsList from '../components/TelegramChannelsList';\nimport { NibJobsIcon } from '../assets';\nimport Icon from 'react-native-vector-icons/MaterialIcons';\n\nconst colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\n\ninterface TelegramChannel {\n  id: string;\n  username: string;\n  name: string;\n  imageUrl?: string;\n  category: string;\n  isActive: boolean;\n  scrapingEnabled: boolean;\n  totalJobsScraped: number;\n  lastScraped: any | null;\n  createdAt: any;\n  updatedAt: any;\n}\n\nexport default function TelegramChannelsScreen() {\n  const [channels, setChannels] = useState<TelegramChannel[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [scrapingStatus, setScrapingStatus] = useState<'idle' | 'scraping' | 'completed' | 'error'>('idle');\n  const [scrapingProgress, setScrapingProgress] = useState(0);\n  const [scrapingMessage, setScrapingMessage] = useState('');\n  const [currentSessionId, setCurrentSessionId] = useState<string | null>(null);\n  const [scrapingDetails, setScrapingDetails] = useState<{\n    totalChannels: number;\n    processedChannels: number;\n    currentChannel: string | null;\n    totalJobsExtracted: number;\n    errors: string[];\n  }>({\n    totalChannels: 0,\n    processedChannels: 0,\n    currentChannel: null,\n    totalJobsExtracted: 0,\n    errors: []\n  });\n\n  const manualScrapeChannels = httpsCallable(functions, 'runTelegramScrapingNowV2');\n\n  // Listen for real-time progress updates\n  useEffect(() => {\n    if (!currentSessionId) return;\n\n    console.log('ðŸ“¡ Setting up progress listener for session:', currentSessionId);\n    \n    const progressDocRef = doc(db, 'scrapingProgress', currentSessionId);\n    const unsubscribe = onSnapshot(progressDocRef, (snapshot) => {\n      if (snapshot.exists()) {\n        const data = snapshot.data();\n        console.log('ðŸ“Š Progress update:', data);\n        \n        setScrapingDetails({\n          totalChannels: data.totalChannels || 0,\n          processedChannels: data.processedChannels || 0,\n          currentChannel: data.currentChannel,\n          totalJobsExtracted: data.totalJobsExtracted || 0,\n          errors: data.errors || []\n        });\n\n        // Calculate progress percentage\n        const progress = data.totalChannels > 0 \n          ? Math.round((data.processedChannels / data.totalChannels) * 100)\n          : 0;\n        setScrapingProgress(progress);\n\n        // Update message\n        if (data.status === 'running') {\n          setScrapingMessage(\n            data.currentChannel \n              ? `Processing ${data.currentChannel}... (${data.processedChannels}/${data.totalChannels})`\n              : `Scraping in progress... (${data.processedChannels}/${data.totalChannels})`\n          );\n        } else if (data.status === 'completed') {\n          setScrapingMessage(`âœ… Completed! Extracted ${data.totalJobsExtracted} jobs from ${data.totalChannels} channels`);\n          setScrapingStatus('completed');\n          \n          // Show completion alert with results\n          const errorDetails = data.errors?.length \n            ? `\\n\\nâš ï¸ Encountered ${data.errors.length} error(s):\\n${data.errors.slice(0, 3).join('\\n')}${data.errors.length > 3 ? `\\n... and ${data.errors.length - 3} more` : ''}`\n            : '';\n          \n          Alert.alert(\n            data.errors?.length ? 'Scraping Completed with Warnings âš ï¸' : 'Scraping Complete! ðŸŽ‰',\n            `Processed: ${data.totalChannels} channels\\nJobs found: ${data.totalJobsExtracted}\\nMessages processed: ${data.totalMessagesProcessed || 0}${errorDetails}`,\n            [\n              { text: 'View Console', onPress: () => console.log('Full scraping result:', data) },\n              { text: 'OK', style: 'default' }\n            ]\n          );\n          \n          // Refresh channels to show updated stats\n          loadChannels();\n          \n          // Auto-hide progress after 5 seconds\n          setTimeout(() => {\n            setScrapingStatus('idle');\n            setScrapingProgress(0);\n            setScrapingMessage('');\n            setCurrentSessionId(null);\n          }, 5000);\n        } else if (data.status === 'failed') {\n          setScrapingMessage(`âŒ Scraping failed: ${data.error || 'Unknown error'}`);\n          setScrapingStatus('error');\n          \n          // Show error alert\n          Alert.alert(\n            'Scraping Failed',\n            `Scraping failed: ${data.error || 'Unknown error'}\\n\\nCheck console for details.`,\n            [{ text: 'OK' }]\n          );\n          \n          setTimeout(() => {\n            setScrapingStatus('idle');\n            setScrapingProgress(0);\n            setScrapingMessage('');\n            setCurrentSessionId(null);\n          }, 3000);\n        }\n      }\n    }, (error) => {\n      console.error('âŒ Progress listener error:', error);\n    });\n\n    return () => unsubscribe();\n  }, [currentSessionId]);\n\n  const loadChannels = async () => {\n    try {\n      const channelsQuery = query(\n        collection(db, 'telegramChannels'),\n        orderBy('createdAt', 'desc')\n      );\n      \n      const channelsSnapshot = await getDocs(channelsQuery);\n      const channelsList: TelegramChannel[] = channelsSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      } as TelegramChannel));\n      \n      setChannels(channelsList);\n    } catch (error) {\n      console.error('Error loading channels:', error);\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    await loadChannels();\n  };\n\n  const handleManualScrape = async () => {\n    setScrapingStatus('scraping');\n    setScrapingProgress(0);\n    setScrapingMessage('Initializing scraper...');\n\n    try {\n      console.log('ðŸš€ Starting manual scrape...');\n      const result = await manualScrapeChannels();\n      console.log('ðŸ“Š Scraping result:', result);\n      \n      const data = result.data as any;\n      \n      // Set the session ID to start listening for progress\n      if (data?.sessionId) {\n        console.log('ï¿½ Starting progress tracking for session:', data.sessionId);\n        setCurrentSessionId(data.sessionId);\n      }\n      \n      if (data?.success) {\n        // Function returned immediately - scraping is running in background\n        console.log('âœ… Scraping started in background:', data);\n        \n        // Log any errors that occurred during scraping (will be updated via progress listener)\n        if (data.errors && data.errors.length > 0) {\n          console.error('âš ï¸ Scraping completed with errors:', data.errors);\n          data.errors.forEach((err: string, index: number) => {\n            console.error(`  Error ${index + 1}:`, err);\n          });\n        }\n        \n        setScrapingMessage(`Scraping ${data.channelsToProcess} channels in progress...`);\n        \n        // Note: Final results will be shown by the progress listener when status becomes 'completed'\n        \n        // Refresh channels to show updated stats later\n        setTimeout(() => loadChannels(), 5000);\n      } else {\n        setScrapingMessage('âŒ Scraping failed - check console for details');\n        setScrapingStatus('error');\n        \n        console.error('âŒ Scraping failed. Full response:', data);\n        \n        Alert.alert(\n          'Scraping Failed',\n          'The scraping process failed. Please check the console for detailed error logs.',\n          [{ text: 'OK' }]\n        );\n        \n        setTimeout(() => {\n          setScrapingStatus('idle');\n          setScrapingProgress(0);\n          setScrapingMessage('');\n        }, 3000);\n      }\n\n    } catch (error: any) {\n      console.error('âŒ Manual scraping failed with exception:', error);\n      console.error('Error details:', {\n        message: error.message,\n        code: error.code,\n        details: error.details,\n        stack: error.stack\n      });\n      \n      setScrapingStatus('error');\n      \n      const errorMessage = error.message || String(error);\n      const errorCode = error.code || 'unknown';\n      const errorDetails = error.details || {};\n      \n      setScrapingMessage(`âŒ Error: ${errorMessage}`);\n      \n      Alert.alert(\n        'Scraping Failed',\n        `An error occurred during scraping:\\n\\nError: ${errorMessage}\\nCode: ${errorCode}\\n\\nCheck console for full details.`,\n        [\n          { \n            text: 'View Console', \n            onPress: () => {\n              console.log('=== FULL ERROR DETAILS ===');\n              console.error('Error object:', error);\n              console.error('Error details:', errorDetails);\n            }\n          },\n          { text: 'OK', style: 'cancel' }\n        ]\n      );\n      \n      setTimeout(() => {\n        setScrapingStatus('idle');\n        setScrapingProgress(0);\n        setScrapingMessage('');\n      }, 5000);\n    }\n  };\n\n  const handleChannelAdded = () => {\n    loadChannels();\n  };\n\n  const handleChannelsUpdate = () => {\n    loadChannels();\n  };\n\n  const enableAllChannelsForScraping = async () => {\n    try {\n      const batch = writeBatch(db);\n      let updatedCount = 0;\n\n      for (const channel of channels) {\n        if (!channel.isActive || !channel.scrapingEnabled) {\n          const channelRef = doc(db, 'telegramChannels', channel.id);\n          batch.update(channelRef, {\n            isActive: true,\n            scrapingEnabled: true,\n            updatedAt: serverTimestamp()\n          });\n          updatedCount++;\n        }\n      }\n\n      if (updatedCount > 0) {\n        await batch.commit();\n        Alert.alert(\n          'Channels Updated! âœ…',\n          `${updatedCount} channels have been enabled for scraping.`,\n          [{ text: 'OK' }]\n        );\n        loadChannels();\n      } else {\n        Alert.alert(\n          'All Set! ðŸ‘',\n          'All channels are already enabled for scraping.',\n          [{ text: 'OK' }]\n        );\n      }\n    } catch (error) {\n      console.error('Error enabling channels:', error);\n      Alert.alert(\n        'Error',\n        'Failed to update channel settings. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  useEffect(() => {\n    loadChannels();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {/* Header */}\n      <View style={styles.header}>\n        <View style={styles.headerContent}>\n          <Image source={NibJobsIcon} style={styles.headerIcon} />\n          <View style={styles.headerText}>\n            <Text style={styles.headerTitle}>Telegram Channels</Text>\n            <Text style={styles.headerSubtitle}>\n              Manage job scraping sources\n            </Text>\n          </View>\n        </View>\n        <TouchableOpacity \n          style={styles.addButton}\n          onPress={() => setShowAddModal(true)}\n        >\n          <Text style={styles.addButtonText}>+ Add Channel</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Main Content */}\n      <ScrollView \n        style={styles.content}\n        refreshControl={\n          <RefreshControl\n            refreshing={refreshing}\n            onRefresh={handleRefresh}\n            colors={[colors.beeYellow]}\n            tintColor={colors.beeYellow}\n          />\n        }\n      >\n        {/* Overview Cards */}\n        <View style={styles.overviewSection}>\n          <Text style={styles.sectionTitle}>Overview</Text>\n          <View style={styles.overviewCards}>\n            <View style={[styles.overviewCard, styles.overviewCardPrimary]}>\n              <View style={styles.overviewIconContainer}>\n                <Icon name=\"layers\" size={28} color={colors.beeYellow} />\n              </View>\n              <Text style={styles.overviewValue}>{channels.length}</Text>\n              <Text style={styles.overviewLabel}>Total Channels</Text>\n            </View>\n            <View style={[styles.overviewCard, styles.overviewCardSuccess]}>\n              <View style={styles.overviewIconContainer}>\n                <Icon name=\"check-circle\" size={28} color={colors.success} />\n              </View>\n              <Text style={styles.overviewValue}>\n                {channels.filter(c => c.isActive && c.scrapingEnabled).length}\n              </Text>\n              <Text style={styles.overviewLabel}>Active Channels</Text>\n            </View>\n            <View style={[styles.overviewCard, styles.overviewCardInfo]}>\n              <View style={styles.overviewIconContainer}>\n                <Icon name=\"briefcase\" size={28} color={colors.honeyGold} />\n              </View>\n              <Text style={styles.overviewValue}>\n                {channels.reduce((total, ch) => total + ch.totalJobsScraped, 0)}\n              </Text>\n              <Text style={styles.overviewLabel}>Total Jobs Scraped</Text>\n            </View>\n          </View>\n        </View>\n\n        {/* Quick Actions */}\n        <View style={styles.quickActionsSection}>\n          <Text style={styles.sectionTitle}>Quick Actions</Text>\n          <View style={styles.quickActions}>\n            <TouchableOpacity \n              style={[styles.actionButton, styles.actionButtonPrimary]}\n              onPress={() => setShowAddModal(true)}\n            >\n              <View style={styles.actionButtonContent}>\n                <View style={styles.actionIconCircle}>\n                  <Icon name=\"add\" size={24} color={colors.white} />\n                </View>\n                <Text style={styles.actionButtonText}>Add Channel</Text>\n              </View>\n            </TouchableOpacity>\n            \n            <TouchableOpacity \n              style={[styles.actionButton, styles.actionButtonSecondary]}\n              onPress={handleRefresh}\n            >\n              <View style={styles.actionButtonContent}>\n                <View style={styles.actionIconCircle}>\n                  <Icon name=\"refresh\" size={24} color={colors.white} />\n                </View>\n                <Text style={styles.actionButtonText}>Refresh List</Text>\n              </View>\n            </TouchableOpacity>\n            \n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                styles.actionButtonWarning,\n                scrapingStatus === 'scraping' && styles.actionButtonDisabled\n              ]}\n              onPress={scrapingStatus === 'idle' ? handleManualScrape : undefined}\n              disabled={scrapingStatus === 'scraping'}\n            >\n              <View style={styles.actionButtonContent}>\n                <View style={styles.actionIconCircle}>\n                  {scrapingStatus === 'scraping' ? (\n                    <ActivityIndicator size=\"small\" color={colors.white} />\n                  ) : (\n                    <Icon name=\"rocket-launch\" size={24} color={colors.white} />\n                  )}\n                </View>\n                <Text style={styles.actionButtonText}>\n                  {scrapingStatus === 'scraping' ? 'Scraping...' : 'Start Scrape'}\n                </Text>\n              </View>\n            </TouchableOpacity>\n            \n            <TouchableOpacity \n              style={[styles.actionButton, styles.actionButtonSuccess]}\n              onPress={enableAllChannelsForScraping}\n            >\n              <View style={styles.actionButtonContent}>\n                <View style={styles.actionIconCircle}>\n                  <Icon name=\"check-circle\" size={24} color={colors.white} />\n                </View>\n                <Text style={styles.actionButtonText}>Enable All</Text>\n              </View>\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        {/* Scraping Progress Status */}\n        {scrapingStatus !== 'idle' && (\n          <View style={styles.progressSection}>\n            <Text style={styles.progressTitle}>ðŸ”„ Scraping Status</Text>\n            \n            {/* Progress Bar */}\n            <View style={styles.progressContainer}>\n              <View style={[styles.progressBar, { width: `${scrapingProgress}%` }]} />\n              <Text style={styles.progressPercentage}>{scrapingProgress}%</Text>\n            </View>\n            \n            {/* Progress Message */}\n            <Text style={styles.progressMessage}>{scrapingMessage}</Text>\n            \n            {/* Detailed Progress Info */}\n            {scrapingStatus === 'scraping' && scrapingDetails.totalChannels > 0 && (\n              <View style={styles.progressDetails}>\n                <View style={styles.progressDetailRow}>\n                  <Text style={styles.progressDetailLabel}>ðŸ“º Total Channels:</Text>\n                  <Text style={styles.progressDetailValue}>{scrapingDetails.totalChannels}</Text>\n                </View>\n                <View style={styles.progressDetailRow}>\n                  <Text style={styles.progressDetailLabel}>âœ… Processed:</Text>\n                  <Text style={styles.progressDetailValue}>\n                    {scrapingDetails.processedChannels} / {scrapingDetails.totalChannels}\n                  </Text>\n                </View>\n                {scrapingDetails.currentChannel && (\n                  <View style={styles.progressDetailRow}>\n                    <Text style={styles.progressDetailLabel}>ðŸ” Current:</Text>\n                    <Text style={[styles.progressDetailValue, styles.currentChannel]}>\n                      {scrapingDetails.currentChannel}\n                    </Text>\n                  </View>\n                )}\n                <View style={styles.progressDetailRow}>\n                  <Text style={styles.progressDetailLabel}>ðŸ’¼ Jobs Found:</Text>\n                  <Text style={[styles.progressDetailValue, styles.jobsCount]}>\n                    {scrapingDetails.totalJobsExtracted}\n                  </Text>\n                </View>\n                {scrapingDetails.errors && scrapingDetails.errors.length > 0 && (\n                  <View style={styles.progressDetailRow}>\n                    <Text style={styles.progressDetailLabel}>âš ï¸ Errors:</Text>\n                    <Text style={[styles.progressDetailValue, styles.errorCount]}>\n                      {scrapingDetails.errors.length}\n                    </Text>\n                  </View>\n                )}\n              </View>\n            )}\n            \n            {/* Error List - Show if there are errors */}\n            {scrapingDetails.errors && scrapingDetails.errors.length > 0 && (\n              <View style={styles.errorSection}>\n                <Text style={styles.errorSectionTitle}>âš ï¸ Errors Encountered:</Text>\n                <ScrollView style={styles.errorList} nestedScrollEnabled>\n                  {scrapingDetails.errors.slice(0, 5).map((error, index) => (\n                    <View key={index} style={styles.errorItem}>\n                      <Text style={styles.errorNumber}>{index + 1}.</Text>\n                      <Text style={styles.errorText} numberOfLines={2}>{error}</Text>\n                    </View>\n                  ))}\n                  {scrapingDetails.errors.length > 5 && (\n                    <Text style={styles.errorMore}>\n                      ... and {scrapingDetails.errors.length - 5} more errors (check console)\n                    </Text>\n                  )}\n                </ScrollView>\n              </View>\n            )}\n            \n            {scrapingProgress > 0 && (\n              <Text style={styles.progressPercent}>{scrapingProgress}%</Text>\n            )}\n          </View>\n        )}\n\n        {/* Channels List */}\n        <View style={styles.channelsSection}>\n          <TelegramChannelsList\n            channels={channels}\n            onChannelsUpdate={handleChannelsUpdate}\n            loading={loading}\n          />\n        </View>\n      </ScrollView>\n\n      {/* Add Channel Modal */}\n      <TelegramChannelFormModal\n        visible={showAddModal}\n        onClose={() => setShowAddModal(false)}\n        onChannelAdded={handleChannelAdded}\n      />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cream,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    backgroundColor: colors.white,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.lightGray,\n  },\n  headerContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  headerIcon: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    marginRight: 12,\n  },\n  headerText: {\n    flex: 1,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginTop: 2,\n  },\n  addButton: {\n    backgroundColor: colors.beeYellow,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  addButtonText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.deepNavy,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n  },\n  overviewSection: {\n    marginBottom: 32,\n  },\n  sectionTitle: {\n    fontSize: 22,\n    fontWeight: '700',\n    color: colors.deepNavy,\n    marginBottom: 16,\n    letterSpacing: -0.5,\n  },\n  overviewCards: {\n    flexDirection: 'row',\n    gap: 16,\n  },\n  overviewCard: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 24,\n    borderRadius: 16,\n    alignItems: 'center',\n    shadowColor: colors.deepNavy,\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.08,\n    shadowRadius: 12,\n    elevation: 4,\n    borderWidth: 1,\n    borderColor: 'rgba(0, 0, 0, 0.04)',\n  },\n  overviewCardPrimary: {\n    backgroundColor: '#FFF9E6',\n    borderColor: colors.beeYellow,\n    borderWidth: 2,\n  },\n  overviewCardSuccess: {\n    backgroundColor: '#F0FAF4',\n    borderColor: colors.success,\n    borderWidth: 2,\n  },\n  overviewCardInfo: {\n    backgroundColor: '#FFF8EC',\n    borderColor: colors.honeyGold,\n    borderWidth: 2,\n  },\n  overviewIconContainer: {\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: colors.white,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 12,\n    shadowColor: colors.deepNavy,\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 8,\n    elevation: 3,\n  },\n  overviewValue: {\n    fontSize: 32,\n    fontWeight: '700',\n    color: colors.deepNavy,\n    marginBottom: 4,\n    letterSpacing: -1,\n  },\n  overviewLabel: {\n    fontSize: 13,\n    color: colors.charcoal,\n    fontWeight: '500',\n    textAlign: 'center',\n  },\n  quickActionsSection: {\n    marginBottom: 24,\n  },\n  quickActions: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  quickActionButton: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: colors.lightGray,\n  },\n  quickActionButtonDisabled: {\n    opacity: 0.6,\n    backgroundColor: colors.lightGray,\n  },\n  quickActionIcon: {\n    fontSize: 20,\n    marginBottom: 8,\n  },\n  quickActionText: {\n    fontSize: 12,\n    fontWeight: '500',\n    color: colors.charcoal,\n    textAlign: 'center',\n  },\n  progressSection: {\n    backgroundColor: colors.white,\n    padding: 16,\n    marginBottom: 24,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: colors.lightGray,\n  },\n  progressTitle: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.charcoal,\n    marginBottom: 12,\n  },\n  progressContainer: {\n    height: 8,\n    backgroundColor: colors.lightGray,\n    borderRadius: 4,\n    overflow: 'hidden',\n    marginBottom: 8,\n    position: 'relative',\n  },\n  progressBar: {\n    height: '100%',\n    backgroundColor: colors.beeYellow,\n    borderRadius: 4,\n  },\n  progressPercentage: {\n    position: 'absolute',\n    right: 4,\n    top: -2,\n    fontSize: 11,\n    fontWeight: '600',\n    color: colors.deepNavy,\n  },\n  progressMessage: {\n    fontSize: 13,\n    color: colors.warmGray,\n    marginBottom: 12,\n    textAlign: 'center',\n  },\n  progressDetails: {\n    backgroundColor: colors.cream,\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  progressDetailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  progressDetailLabel: {\n    fontSize: 13,\n    color: colors.charcoal,\n    fontWeight: '500',\n  },\n  progressDetailValue: {\n    fontSize: 13,\n    color: colors.deepNavy,\n    fontWeight: '600',\n  },\n  currentChannel: {\n    color: colors.beeYellow,\n    fontWeight: '700',\n  },\n  jobsCount: {\n    color: colors.success,\n    fontSize: 14,\n    fontWeight: '700',\n  },\n  errorCount: {\n    color: colors.danger,\n    fontSize: 14,\n    fontWeight: '700',\n  },\n  errorSection: {\n    backgroundColor: '#FFF5F5',\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 12,\n    borderWidth: 1,\n    borderColor: '#FED7D7',\n  },\n  errorSectionTitle: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: colors.danger,\n    marginBottom: 8,\n  },\n  errorList: {\n    maxHeight: 150,\n  },\n  errorItem: {\n    flexDirection: 'row',\n    marginBottom: 6,\n    paddingVertical: 4,\n  },\n  errorNumber: {\n    fontSize: 12,\n    color: colors.danger,\n    fontWeight: '600',\n    marginRight: 6,\n    minWidth: 20,\n  },\n  errorText: {\n    fontSize: 11,\n    color: colors.charcoal,\n    flex: 1,\n    lineHeight: 16,\n  },\n  errorMore: {\n    fontSize: 11,\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    marginTop: 4,\n    textAlign: 'center',\n  },\n  progressPercent: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: colors.charcoal,\n    textAlign: 'right',\n  },\n  channelsSection: {\n    marginBottom: 24,\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}