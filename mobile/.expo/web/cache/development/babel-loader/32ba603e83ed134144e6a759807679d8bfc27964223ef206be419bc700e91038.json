{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { getAuth } from 'firebase/auth';\nimport { db, storage } from \"../config/firebase\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\nexport default function TelegramChannelFormModal(_ref) {\n  var visible = _ref.visible,\n    onClose = _ref.onClose,\n    onChannelAdded = _ref.onChannelAdded;\n  var _useState = useState({\n      username: '',\n      name: '',\n      imageUrl: '',\n      category: 'general',\n      isActive: true,\n      scrapingEnabled: true\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedImage = _useState4[0],\n    setSelectedImage = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedFile = _useState6[0],\n    setSelectedFile = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loading = _useState8[0],\n    setLoading = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    uploading = _useState0[0],\n    setUploading = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    isDragging = _useState10[0],\n    setIsDragging = _useState10[1];\n  var dropZoneRef = useRef(null);\n  var resetForm = function resetForm() {\n    setFormData({\n      username: '',\n      name: '',\n      imageUrl: '',\n      category: 'general',\n      isActive: true,\n      scrapingEnabled: true\n    });\n    setSelectedImage(null);\n    setSelectedFile(null);\n    setIsDragging(false);\n  };\n  var handleClose = function handleClose() {\n    resetForm();\n    onClose();\n  };\n  var handleImageFile = function handleImageFile(file) {\n    console.log('üñºÔ∏è Image file selected:', {\n      name: file.name,\n      size: file.size,\n      type: file.type\n    });\n    if (file.size > 5 * 1024 * 1024) {\n      Alert.alert('Error', 'Image size should be less than 5MB');\n      return false;\n    }\n    if (!file.type.startsWith('image/')) {\n      Alert.alert('Error', 'Please select a valid image file');\n      return false;\n    }\n    setSelectedFile(file);\n    var imageUrl = URL.createObjectURL(file);\n    setSelectedImage(imageUrl);\n    console.log('‚úÖ Image file processed successfully, preview URL:', imageUrl);\n    return true;\n  };\n  var pickImage = function pickImage() {\n    var input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.onchange = function (e) {\n      var _files;\n      var file = (_files = e.target.files) == null ? void 0 : _files[0];\n      if (file) {\n        handleImageFile(file);\n      }\n    };\n    input.click();\n  };\n  useEffect(function () {\n    if (Platform.OS === 'web' && dropZoneRef.current) {\n      var dropZone = dropZoneRef.current._component || dropZoneRef.current;\n      var handleWebDragOver = function handleWebDragOver(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n      };\n      var handleWebDragEnter = function handleWebDragEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n      };\n      var handleWebDragLeave = function handleWebDragLeave(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var target = e.currentTarget;\n        if (target && !target.contains(e.relatedTarget)) {\n          setIsDragging(false);\n        }\n      };\n      var handleWebDrop = function handleWebDrop(e) {\n        var _e$dataTransfer;\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        var files = Array.from(((_e$dataTransfer = e.dataTransfer) == null ? void 0 : _e$dataTransfer.files) || []);\n        if (files.length > 0) {\n          handleImageFile(files[0]);\n        }\n      };\n      if (dropZone && dropZone.addEventListener) {\n        dropZone.addEventListener('dragover', handleWebDragOver);\n        dropZone.addEventListener('dragenter', handleWebDragEnter);\n        dropZone.addEventListener('dragleave', handleWebDragLeave);\n        dropZone.addEventListener('drop', handleWebDrop);\n        return function () {\n          dropZone.removeEventListener('dragover', handleWebDragOver);\n          dropZone.removeEventListener('dragenter', handleWebDragEnter);\n          dropZone.removeEventListener('dragleave', handleWebDragLeave);\n          dropZone.removeEventListener('drop', handleWebDrop);\n        };\n      }\n    }\n  }, [visible]);\n  var uploadImage = function () {\n    var _ref2 = _asyncToGenerator(function* (channelUsername, file) {\n      try {\n        console.log('üîÑ Starting image upload...', {\n          channelUsername: channelUsername,\n          fileName: file.name,\n          fileSize: file.size,\n          fileType: file.type\n        });\n        var auth = getAuth();\n        var user = auth.currentUser;\n        console.log('üë§ Current user:', user ? user.uid : 'Not authenticated');\n        if (!user) {\n          throw new Error('User must be authenticated to upload images');\n        }\n        var fileExtension = file.name.split('.').pop() || 'jpg';\n        var fileName = `${channelUsername}-${Date.now()}.${fileExtension}`;\n        var storageRef = ref(storage, `channel-images/${fileName}`);\n        console.log('üìÅ Storage reference created:', storageRef.fullPath);\n        var uploadResult = yield uploadBytes(storageRef, file);\n        console.log('‚úÖ Upload completed:', uploadResult);\n        var downloadURL = yield getDownloadURL(uploadResult.ref);\n        console.log('üîó Download URL obtained:', downloadURL);\n        return downloadURL;\n      } catch (error) {\n        console.error('‚ùå Error uploading image:', error);\n        var errorMessage = error instanceof Error ? error.message : 'Unknown error';\n        throw new Error(`Failed to upload image: ${errorMessage}`);\n      }\n    });\n    return function uploadImage(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleSubmit = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!formData.username.trim() || !formData.name.trim()) {\n        Alert.alert('Error', 'Please fill in username and name');\n        return;\n      }\n      var cleanUsername = formData.username.replace('@', '').trim();\n      if (cleanUsername.length === 0) {\n        Alert.alert('Error', 'Please enter a valid username');\n        return;\n      }\n      setLoading(true);\n      try {\n        var imageUrl = formData.imageUrl;\n        if (selectedFile) {\n          console.log('üñºÔ∏è Image selected, starting upload...', {\n            fileName: selectedFile.name,\n            fileSize: selectedFile.size\n          });\n          setUploading(true);\n          try {\n            imageUrl = yield uploadImage(cleanUsername, selectedFile);\n            console.log('‚úÖ Image uploaded successfully:', imageUrl);\n          } catch (error) {\n            console.error('‚ùå Error uploading image:', error);\n            Alert.alert('Warning', 'Channel will be added but image upload failed');\n          }\n          setUploading(false);\n        } else {\n          console.log('üì∑ No image selected for upload');\n        }\n        console.log('üíæ Creating channel document with imageUrl:', imageUrl);\n        var newChannel = {\n          username: cleanUsername,\n          name: formData.name.trim(),\n          imageUrl: imageUrl || null,\n          category: formData.category,\n          isActive: formData.isActive,\n          scrapingEnabled: formData.scrapingEnabled,\n          totalJobsScraped: 0,\n          lastScraped: null,\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp()\n        };\n        console.log('üìù Channel data to be saved:', newChannel);\n        var channelsCollection = collection(db, 'telegramChannels');\n        var docRef = yield addDoc(channelsCollection, newChannel);\n        console.log('‚úÖ Channel saved with ID:', docRef.id);\n        Alert.alert('Success', 'Telegram channel added successfully!');\n        onChannelAdded();\n        handleClose();\n      } catch (error) {\n        console.error('Error adding channel:', error);\n        Alert.alert('Error', 'Failed to add channel. Please try again.');\n      }\n      setLoading(false);\n    });\n    return function handleSubmit() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsx(Modal, {\n    visible: visible,\n    animationType: \"slide\",\n    transparent: true,\n    onRequestClose: handleClose,\n    children: _jsx(View, {\n      style: styles.modalOverlay,\n      children: _jsxs(View, {\n        style: styles.modalContent,\n        children: [_jsxs(View, {\n          style: styles.modalHeader,\n          children: [_jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Add Telegram Channel\"\n          }), _jsx(TouchableOpacity, {\n            onPress: handleClose,\n            style: styles.closeButton,\n            children: _jsx(Text, {\n              style: styles.closeButtonText,\n              children: \"\\u2715\"\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.form,\n          children: [_jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Username *\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: formData.username,\n              onChangeText: function onChangeText(text) {\n                return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n                  username: text\n                }));\n              },\n              placeholder: \"e.g., jobtelegram\",\n              placeholderTextColor: colors.warmGray,\n              autoCapitalize: \"none\"\n            }), _jsx(Text, {\n              style: styles.helpText,\n              children: \"Enter without @ symbol\"\n            })]\n          }), _jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Channel Name *\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: formData.name,\n              onChangeText: function onChangeText(text) {\n                return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n                  name: text\n                }));\n              },\n              placeholder: \"e.g., Job Telegram Channel\",\n              placeholderTextColor: colors.warmGray\n            })]\n          }), _jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Category\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: formData.category,\n              onChangeText: function onChangeText(text) {\n                return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n                  category: text\n                }));\n              },\n              placeholder: \"e.g., technology, marketing, general\",\n              placeholderTextColor: colors.warmGray\n            })]\n          }), _jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Channel Image (Optional)\"\n            }), _jsx(View, {\n              ref: dropZoneRef,\n              style: [styles.imagePickerButton, isDragging && styles.imagePickerButtonDragging],\n              children: _jsx(TouchableOpacity, {\n                style: styles.imagePickerContent,\n                onPress: pickImage,\n                activeOpacity: 0.8,\n                children: selectedImage ? _jsxs(View, {\n                  style: styles.selectedImageContainer,\n                  children: [_jsx(Image, {\n                    source: {\n                      uri: selectedImage\n                    },\n                    style: styles.selectedImage\n                  }), _jsx(Text, {\n                    style: styles.changeImageText,\n                    children: isDragging ? 'Drop image here!' : 'Tap to change or drag & drop new image'\n                  })]\n                }) : _jsxs(View, {\n                  style: styles.imagePickerContent,\n                  children: [_jsx(Text, {\n                    style: styles.imagePickerIcon,\n                    children: isDragging ? 'üì§' : 'üì∑'\n                  }), _jsx(Text, {\n                    style: [styles.imagePickerText, isDragging && styles.imagePickerTextDragging],\n                    children: isDragging ? 'Drop image here!' : 'Tap to select or drag & drop image'\n                  }), _jsx(Text, {\n                    style: styles.imagePickerHint,\n                    children: \"Supports: JPG, PNG, GIF \\u2022 Max size: 5MB\"\n                  })]\n                })\n              })\n            }), uploading && _jsxs(View, {\n              style: styles.uploadingContainer,\n              children: [_jsx(ActivityIndicator, {\n                size: \"small\",\n                color: colors.beeYellow\n              }), _jsx(Text, {\n                style: styles.uploadingText,\n                children: \"Uploading image...\"\n              })]\n            })]\n          }), _jsxs(View, {\n            style: styles.switchGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Active Status\"\n            }), _jsxs(View, {\n              style: styles.switchRow,\n              children: [_jsx(Text, {\n                style: styles.switchLabel,\n                children: \"Channel Active\"\n              }), _jsx(Switch, {\n                value: formData.isActive,\n                onValueChange: function onValueChange(value) {\n                  return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n                    isActive: value\n                  }));\n                },\n                trackColor: {\n                  false: colors.lightGray,\n                  true: colors.success\n                },\n                thumbColor: formData.isActive ? colors.white : colors.warmGray\n              })]\n            }), _jsxs(View, {\n              style: styles.switchRow,\n              children: [_jsx(Text, {\n                style: styles.switchLabel,\n                children: \"Scraping Enabled\"\n              }), _jsx(Switch, {\n                value: formData.scrapingEnabled,\n                onValueChange: function onValueChange(value) {\n                  return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n                    scrapingEnabled: value\n                  }));\n                },\n                trackColor: {\n                  false: colors.lightGray,\n                  true: colors.beeYellow\n                },\n                thumbColor: formData.scrapingEnabled ? colors.white : colors.warmGray\n              })]\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.actionButtons,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.cancelButton,\n            onPress: handleClose,\n            children: _jsx(Text, {\n              style: styles.cancelButtonText,\n              children: \"Cancel\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: [styles.submitButton, loading && styles.submitButtonDisabled],\n            onPress: handleSubmit,\n            disabled: loading,\n            children: loading ? _jsx(ActivityIndicator, {\n              size: \"small\",\n              color: colors.white\n            }) : _jsx(Text, {\n              style: styles.submitButtonText,\n              children: \"Add Channel\"\n            })\n          })]\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  modalContent: {\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    padding: 0,\n    width: '100%',\n    maxWidth: 500,\n    maxHeight: '90%'\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.lightGray\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: colors.deepNavy\n  },\n  closeButton: {\n    padding: 5\n  },\n  closeButtonText: {\n    fontSize: 18,\n    color: colors.warmGray\n  },\n  form: {\n    padding: 20\n  },\n  inputGroup: {\n    marginBottom: 20\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.deepNavy,\n    marginBottom: 8\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: colors.lightGray,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n    paddingVertical: 12,\n    fontSize: 16,\n    color: colors.charcoal,\n    backgroundColor: colors.white\n  },\n  helpText: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginTop: 4\n  },\n  imagePickerButton: {\n    borderWidth: 2,\n    borderColor: colors.lightGray,\n    borderStyle: 'dashed',\n    borderRadius: 8,\n    padding: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: colors.cream,\n    transition: 'all 0.2s ease-in-out'\n  },\n  imagePickerButtonDragging: {\n    borderColor: colors.beeYellow,\n    backgroundColor: '#FFF9E6',\n    transform: 'scale(1.02)'\n  },\n  imagePickerContent: {\n    alignItems: 'center'\n  },\n  imagePickerIcon: {\n    fontSize: 24,\n    marginBottom: 8\n  },\n  imagePickerText: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginBottom: 4\n  },\n  imagePickerTextDragging: {\n    color: colors.beeYellow,\n    fontWeight: '600'\n  },\n  imagePickerHint: {\n    fontSize: 11,\n    color: colors.warmGray,\n    opacity: 0.7\n  },\n  selectedImageContainer: {\n    alignItems: 'center'\n  },\n  selectedImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginBottom: 8\n  },\n  changeImageText: {\n    fontSize: 12,\n    color: colors.beeYellow,\n    fontWeight: '500'\n  },\n  uploadingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 8\n  },\n  uploadingText: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginLeft: 8\n  },\n  switchGroup: {\n    marginBottom: 20\n  },\n  switchRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 8\n  },\n  switchLabel: {\n    fontSize: 14,\n    color: colors.charcoal\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    padding: 20,\n    borderTopWidth: 1,\n    borderTopColor: colors.lightGray,\n    gap: 12\n  },\n  cancelButton: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: colors.warmGray,\n    alignItems: 'center'\n  },\n  cancelButtonText: {\n    fontSize: 16,\n    color: colors.warmGray,\n    fontWeight: '500'\n  },\n  submitButton: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    backgroundColor: colors.beeYellow,\n    alignItems: 'center'\n  },\n  submitButtonDisabled: {\n    backgroundColor: colors.lightGray\n  },\n  submitButtonText: {\n    fontSize: 16,\n    color: colors.deepNavy,\n    fontWeight: '600'\n  }\n});","map":{"version":3,"names":["React","useState","useRef","useEffect","View","Text","StyleSheet","Modal","TouchableOpacity","TextInput","Switch","Image","Alert","ActivityIndicator","Platform","collection","addDoc","serverTimestamp","ref","uploadBytes","getDownloadURL","getAuth","db","storage","jsx","_jsx","jsxs","_jsxs","colors","beeYellow","honeyGold","darkYellow","deepNavy","charcoal","cream","white","warmGray","lightGray","success","danger","warning","TelegramChannelFormModal","_ref","visible","onClose","onChannelAdded","_useState","username","name","imageUrl","category","isActive","scrapingEnabled","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","selectedImage","setSelectedImage","_useState5","_useState6","selectedFile","setSelectedFile","_useState7","_useState8","loading","setLoading","_useState9","_useState0","uploading","setUploading","_useState1","_useState10","isDragging","setIsDragging","dropZoneRef","resetForm","handleClose","handleImageFile","file","console","log","size","type","alert","startsWith","URL","createObjectURL","pickImage","input","document","createElement","accept","onchange","e","_files","target","files","click","OS","current","dropZone","_component","handleWebDragOver","preventDefault","stopPropagation","handleWebDragEnter","handleWebDragLeave","currentTarget","contains","relatedTarget","handleWebDrop","_e$dataTransfer","Array","from","dataTransfer","length","addEventListener","removeEventListener","uploadImage","_ref2","_asyncToGenerator","channelUsername","fileName","fileSize","fileType","auth","user","currentUser","uid","Error","fileExtension","split","pop","Date","now","storageRef","fullPath","uploadResult","downloadURL","error","errorMessage","message","_x","_x2","apply","arguments","handleSubmit","_ref3","trim","cleanUsername","replace","newChannel","totalJobsScraped","lastScraped","createdAt","updatedAt","channelsCollection","docRef","id","animationType","transparent","onRequestClose","children","style","styles","modalOverlay","modalContent","modalHeader","modalTitle","onPress","closeButton","closeButtonText","form","inputGroup","label","value","onChangeText","text","_objectSpread","placeholder","placeholderTextColor","autoCapitalize","helpText","imagePickerButton","imagePickerButtonDragging","imagePickerContent","activeOpacity","selectedImageContainer","source","uri","changeImageText","imagePickerIcon","imagePickerText","imagePickerTextDragging","imagePickerHint","uploadingContainer","color","uploadingText","switchGroup","switchRow","switchLabel","onValueChange","trackColor","false","true","thumbColor","actionButtons","cancelButton","cancelButtonText","submitButton","submitButtonDisabled","disabled","submitButtonText","create","flex","backgroundColor","justifyContent","alignItems","padding","borderRadius","width","maxWidth","maxHeight","flexDirection","borderBottomWidth","borderBottomColor","fontSize","fontWeight","marginBottom","borderWidth","borderColor","paddingHorizontal","paddingVertical","marginTop","borderStyle","transition","transform","opacity","height","marginLeft","borderTopWidth","borderTopColor","gap"],"sources":["/home/nathan/Documents/Workspace/NibJobs 2.0/mobile/src/components/TelegramChannelFormModal.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Modal,\n  TouchableOpacity,\n  TextInput,\n  Switch,\n  Image,\n  Alert,\n  ActivityIndicator,\n  Platform\n} from 'react-native';\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { getAuth } from 'firebase/auth';\nimport { db, storage } from '../config/firebase';\n\ninterface TelegramChannel {\n  id: string;\n  username: string;\n  name: string;\n  imageUrl?: string;\n  category: string;\n  isActive: boolean;\n  scrapingEnabled: boolean;\n  totalJobsScraped: number;\n  lastScraped: any | null;\n  createdAt: any;\n  updatedAt: any;\n}\n\nconst colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\n\ninterface FormData {\n  username: string;\n  name: string;\n  imageUrl: string;\n  category: string;\n  isActive: boolean;\n  scrapingEnabled: boolean;\n}\n\ninterface TelegramChannelFormModalProps {\n  visible: boolean;\n  onClose: () => void;\n  onChannelAdded: () => void;\n}\n\nexport default function TelegramChannelFormModal({ \n  visible, \n  onClose, \n  onChannelAdded \n}: TelegramChannelFormModalProps) {\n  const [formData, setFormData] = useState<FormData>({\n    username: '',\n    name: '',\n    imageUrl: '',\n    category: 'general',\n    isActive: true,\n    scrapingEnabled: true\n  });\n  const [selectedImage, setSelectedImage] = useState<string | null>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const dropZoneRef = useRef<View>(null);\n\n  const resetForm = () => {\n    setFormData({\n      username: '',\n      name: '',\n      imageUrl: '',\n      category: 'general',\n      isActive: true,\n      scrapingEnabled: true\n    });\n    setSelectedImage(null);\n    setSelectedFile(null);\n    setIsDragging(false);\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleImageFile = (file: File) => {\n    console.log('üñºÔ∏è Image file selected:', {\n      name: file.name,\n      size: file.size,\n      type: file.type\n    });\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      Alert.alert('Error', 'Image size should be less than 5MB');\n      return false;\n    }\n    \n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      Alert.alert('Error', 'Please select a valid image file');\n      return false;\n    }\n    \n    setSelectedFile(file);\n    const imageUrl = URL.createObjectURL(file);\n    setSelectedImage(imageUrl);\n    console.log('‚úÖ Image file processed successfully, preview URL:', imageUrl);\n    return true;\n  };\n\n  const pickImage = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.onchange = (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0];\n      if (file) {\n        handleImageFile(file);\n      }\n    };\n    input.click();\n  };\n\n  // Setup drag and drop for web\n  useEffect(() => {\n    if (Platform.OS === 'web' && dropZoneRef.current) {\n      const dropZone = (dropZoneRef.current as any)._component || dropZoneRef.current;\n      \n      const handleWebDragOver = (e: DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n      };\n\n      const handleWebDragEnter = (e: DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n      };\n\n      const handleWebDragLeave = (e: DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const target = e.currentTarget as HTMLElement;\n        if (target && !target.contains(e.relatedTarget as Node)) {\n          setIsDragging(false);\n        }\n      };\n\n      const handleWebDrop = (e: DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        \n        const files = Array.from(e.dataTransfer?.files || []);\n        if (files.length > 0) {\n          handleImageFile(files[0]);\n        }\n      };\n\n      if (dropZone && dropZone.addEventListener) {\n        dropZone.addEventListener('dragover', handleWebDragOver);\n        dropZone.addEventListener('dragenter', handleWebDragEnter);\n        dropZone.addEventListener('dragleave', handleWebDragLeave);\n        dropZone.addEventListener('drop', handleWebDrop);\n\n        return () => {\n          dropZone.removeEventListener('dragover', handleWebDragOver);\n          dropZone.removeEventListener('dragenter', handleWebDragEnter);\n          dropZone.removeEventListener('dragleave', handleWebDragLeave);\n          dropZone.removeEventListener('drop', handleWebDrop);\n        };\n      }\n    }\n  }, [visible]);\n\n  const uploadImage = async (channelUsername: string, file: File): Promise<string> => {\n    try {\n      console.log('üîÑ Starting image upload...', {\n        channelUsername,\n        fileName: file.name,\n        fileSize: file.size,\n        fileType: file.type\n      });\n\n      // Check authentication status\n      const auth = getAuth();\n      const user = auth.currentUser;\n      console.log('üë§ Current user:', user ? user.uid : 'Not authenticated');\n\n      if (!user) {\n        throw new Error('User must be authenticated to upload images');\n      }\n\n      const fileExtension = file.name.split('.').pop() || 'jpg';\n      const fileName = `${channelUsername}-${Date.now()}.${fileExtension}`;\n      const storageRef = ref(storage, `channel-images/${fileName}`);\n      \n      console.log('üìÅ Storage reference created:', storageRef.fullPath);\n      \n      const uploadResult = await uploadBytes(storageRef, file);\n      console.log('‚úÖ Upload completed:', uploadResult);\n      \n      const downloadURL = await getDownloadURL(uploadResult.ref);\n      console.log('üîó Download URL obtained:', downloadURL);\n      \n      return downloadURL;\n    } catch (error) {\n      console.error('‚ùå Error uploading image:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n      throw new Error(`Failed to upload image: ${errorMessage}`);\n    }\n  };\n\n  const handleSubmit = async () => {\n    // Validation\n    if (!formData.username.trim() || !formData.name.trim()) {\n      Alert.alert('Error', 'Please fill in username and name');\n      return;\n    }\n\n    // Clean username (remove @ if present)\n    const cleanUsername = formData.username.replace('@', '').trim();\n    if (cleanUsername.length === 0) {\n      Alert.alert('Error', 'Please enter a valid username');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Check if channel already exists\n      // TODO: Add duplicate check here\n\n      // Upload image if selected\n      let imageUrl = formData.imageUrl;\n      if (selectedFile) {\n        console.log('üñºÔ∏è Image selected, starting upload...', {\n          fileName: selectedFile.name,\n          fileSize: selectedFile.size\n        });\n        \n        setUploading(true);\n        try {\n          imageUrl = await uploadImage(cleanUsername, selectedFile);\n          console.log('‚úÖ Image uploaded successfully:', imageUrl);\n        } catch (error) {\n          console.error('‚ùå Error uploading image:', error);\n          Alert.alert('Warning', 'Channel will be added but image upload failed');\n        }\n        setUploading(false);\n      } else {\n        console.log('üì∑ No image selected for upload');\n      }\n\n      console.log('üíæ Creating channel document with imageUrl:', imageUrl);\n\n      // Create channel document\n      const newChannel = {\n        username: cleanUsername,\n        name: formData.name.trim(),\n        imageUrl: imageUrl || null,\n        category: formData.category,\n        isActive: formData.isActive,\n        scrapingEnabled: formData.scrapingEnabled,\n        totalJobsScraped: 0,\n        lastScraped: null,\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp()\n      };\n\n      console.log('üìù Channel data to be saved:', newChannel);\n\n      // Add to Firestore\n      const channelsCollection = collection(db, 'telegramChannels');\n      const docRef = await addDoc(channelsCollection, newChannel);\n\n      console.log('‚úÖ Channel saved with ID:', docRef.id);\n      Alert.alert('Success', 'Telegram channel added successfully!');\n      onChannelAdded();\n      handleClose();\n\n    } catch (error) {\n      console.error('Error adding channel:', error);\n      Alert.alert('Error', 'Failed to add channel. Please try again.');\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={handleClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Add Telegram Channel</Text>\n            <TouchableOpacity onPress={handleClose} style={styles.closeButton}>\n              <Text style={styles.closeButtonText}>‚úï</Text>\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.form}>\n            {/* Username Input */}\n            <View style={styles.inputGroup}>\n              <Text style={styles.label}>Username *</Text>\n              <TextInput\n                style={styles.input}\n                value={formData.username}\n                onChangeText={(text) => setFormData({ ...formData, username: text })}\n                placeholder=\"e.g., jobtelegram\"\n                placeholderTextColor={colors.warmGray}\n                autoCapitalize=\"none\"\n              />\n              <Text style={styles.helpText}>Enter without @ symbol</Text>\n            </View>\n\n            {/* Name Input */}\n            <View style={styles.inputGroup}>\n              <Text style={styles.label}>Channel Name *</Text>\n              <TextInput\n                style={styles.input}\n                value={formData.name}\n                onChangeText={(text) => setFormData({ ...formData, name: text })}\n                placeholder=\"e.g., Job Telegram Channel\"\n                placeholderTextColor={colors.warmGray}\n              />\n            </View>\n\n            {/* Category Input */}\n            <View style={styles.inputGroup}>\n              <Text style={styles.label}>Category</Text>\n              <TextInput\n                style={styles.input}\n                value={formData.category}\n                onChangeText={(text) => setFormData({ ...formData, category: text })}\n                placeholder=\"e.g., technology, marketing, general\"\n                placeholderTextColor={colors.warmGray}\n              />\n            </View>\n\n            {/* Image Upload */}\n            <View style={styles.inputGroup}>\n              <Text style={styles.label}>Channel Image (Optional)</Text>\n              <View \n                ref={dropZoneRef}\n                style={[\n                  styles.imagePickerButton,\n                  isDragging && styles.imagePickerButtonDragging\n                ]} \n              >\n                <TouchableOpacity \n                  style={styles.imagePickerContent}\n                  onPress={pickImage}\n                  activeOpacity={0.8}\n                >\n                  {selectedImage ? (\n                    <View style={styles.selectedImageContainer}>\n                      <Image source={{ uri: selectedImage }} style={styles.selectedImage} />\n                      <Text style={styles.changeImageText}>\n                        {isDragging ? 'Drop image here!' : 'Tap to change or drag & drop new image'}\n                      </Text>\n                    </View>\n                  ) : (\n                    <View style={styles.imagePickerContent}>\n                      <Text style={styles.imagePickerIcon}>\n                        {isDragging ? 'üì§' : 'üì∑'}\n                      </Text>\n                      <Text style={[\n                        styles.imagePickerText,\n                        isDragging && styles.imagePickerTextDragging\n                      ]}>\n                        {isDragging ? 'Drop image here!' : 'Tap to select or drag & drop image'}\n                      </Text>\n                      <Text style={styles.imagePickerHint}>\n                        Supports: JPG, PNG, GIF ‚Ä¢ Max size: 5MB\n                      </Text>\n                    </View>\n                  )}\n                </TouchableOpacity>\n              </View>\n              {uploading && (\n                <View style={styles.uploadingContainer}>\n                  <ActivityIndicator size=\"small\" color={colors.beeYellow} />\n                  <Text style={styles.uploadingText}>Uploading image...</Text>\n                </View>\n              )}\n            </View>\n\n            {/* Active Status */}\n            <View style={styles.switchGroup}>\n              <Text style={styles.label}>Active Status</Text>\n              <View style={styles.switchRow}>\n                <Text style={styles.switchLabel}>Channel Active</Text>\n                <Switch\n                  value={formData.isActive}\n                  onValueChange={(value) => setFormData({ ...formData, isActive: value })}\n                  trackColor={{ false: colors.lightGray, true: colors.success }}\n                  thumbColor={formData.isActive ? colors.white : colors.warmGray}\n                />\n              </View>\n              <View style={styles.switchRow}>\n                <Text style={styles.switchLabel}>Scraping Enabled</Text>\n                <Switch\n                  value={formData.scrapingEnabled}\n                  onValueChange={(value) => setFormData({ ...formData, scrapingEnabled: value })}\n                  trackColor={{ false: colors.lightGray, true: colors.beeYellow }}\n                  thumbColor={formData.scrapingEnabled ? colors.white : colors.warmGray}\n                />\n              </View>\n            </View>\n          </View>\n\n          {/* Action Buttons */}\n          <View style={styles.actionButtons}>\n            <TouchableOpacity style={styles.cancelButton} onPress={handleClose}>\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity \n              style={[styles.submitButton, loading && styles.submitButtonDisabled]} \n              onPress={handleSubmit}\n              disabled={loading}\n            >\n              {loading ? (\n                <ActivityIndicator size=\"small\" color={colors.white} />\n              ) : (\n                <Text style={styles.submitButtonText}>Add Channel</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  modalContent: {\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    padding: 0,\n    width: '100%',\n    maxWidth: 500,\n    maxHeight: '90%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.lightGray,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  closeButtonText: {\n    fontSize: 18,\n    color: colors.warmGray,\n  },\n  form: {\n    padding: 20,\n  },\n  inputGroup: {\n    marginBottom: 20,\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.deepNavy,\n    marginBottom: 8,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: colors.lightGray,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n    paddingVertical: 12,\n    fontSize: 16,\n    color: colors.charcoal,\n    backgroundColor: colors.white,\n  },\n  helpText: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginTop: 4,\n  },\n  imagePickerButton: {\n    borderWidth: 2,\n    borderColor: colors.lightGray,\n    borderStyle: 'dashed',\n    borderRadius: 8,\n    padding: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: colors.cream,\n    transition: 'all 0.2s ease-in-out',\n  },\n  imagePickerButtonDragging: {\n    borderColor: colors.beeYellow,\n    backgroundColor: '#FFF9E6',\n    transform: 'scale(1.02)',\n  },\n  imagePickerContent: {\n    alignItems: 'center',\n  },\n  imagePickerIcon: {\n    fontSize: 24,\n    marginBottom: 8,\n  },\n  imagePickerText: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginBottom: 4,\n  },\n  imagePickerTextDragging: {\n    color: colors.beeYellow,\n    fontWeight: '600',\n  },\n  imagePickerHint: {\n    fontSize: 11,\n    color: colors.warmGray,\n    opacity: 0.7,\n  },\n  selectedImageContainer: {\n    alignItems: 'center',\n  },\n  selectedImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginBottom: 8,\n  },\n  changeImageText: {\n    fontSize: 12,\n    color: colors.beeYellow,\n    fontWeight: '500',\n  },\n  uploadingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 8,\n  },\n  uploadingText: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginLeft: 8,\n  },\n  switchGroup: {\n    marginBottom: 20,\n  },\n  switchRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 8,\n  },\n  switchLabel: {\n    fontSize: 14,\n    color: colors.charcoal,\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    padding: 20,\n    borderTopWidth: 1,\n    borderTopColor: colors.lightGray,\n    gap: 12,\n  },\n  cancelButton: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: colors.warmGray,\n    alignItems: 'center',\n  },\n  cancelButtonText: {\n    fontSize: 16,\n    color: colors.warmGray,\n    fontWeight: '500',\n  },\n  submitButton: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    backgroundColor: colors.beeYellow,\n    alignItems: 'center',\n  },\n  submitButtonDisabled: {\n    backgroundColor: colors.lightGray,\n  },\n  submitButtonText: {\n    fontSize: 16,\n    color: colors.deepNavy,\n    fontWeight: '600',\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}