{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { collection, getDocs } from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { db, functions } from \"../config/firebase\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\nexport default function TelegramChannelsManager() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    channels = _useState2[0],\n    setChannels = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(new Date()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    lastUpdate = _useState6[0],\n    setLastUpdate = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    scrapingLogs = _useState8[0],\n    setScrapingLogs = _useState8[1];\n  var _useState9 = useState({\n      isRunning: false,\n      currentStep: '',\n      progress: 0\n    }),\n    _useState0 = _slicedToArray(_useState9, 2),\n    scrapingStatus = _useState0[0],\n    setScrapingStatus = _useState0[1];\n  var loadChannels = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var channelsSnapshot = yield getDocs(collection(db, 'telegramChannels'));\n        var channelsData = channelsSnapshot.docs.map(function (doc) {\n          return _objectSpread({\n            id: doc.id\n          }, doc.data());\n        });\n        setChannels(channelsData);\n        setLastUpdate(new Date());\n      } catch (error) {\n        console.error('Error loading channels:', error);\n        Alert.alert('Error', 'Failed to load telegram channels');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadChannels() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    loadChannels();\n  }, []);\n  var addLog = function addLog(message) {\n    var timestamp = new Date().toLocaleTimeString();\n    var logMessage = `[${timestamp}] ${message}`;\n    setScrapingLogs(function (prev) {\n      return [].concat(_toConsumableArray(prev.slice(-20)), [logMessage]);\n    });\n    console.log(logMessage);\n  };\n  var updateStatus = function updateStatus(step) {\n    var progress = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    setScrapingStatus(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        currentStep: step,\n        progress: progress,\n        lastActivity: new Date()\n      });\n    });\n    addLog(step);\n  };\n  var handleManualTrigger = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      console.log('üîç DEBUG: Manual trigger button clicked');\n      setLoading(true);\n      setScrapingLogs([]);\n      setScrapingStatus({\n        isRunning: true,\n        currentStep: 'Initializing...',\n        progress: 0,\n        startTime: new Date()\n      });\n      try {\n        console.log('üîç DEBUG: Starting manual trigger execution');\n        addLog('üöÄ Starting manual Telegram scraping...');\n        var runScrapingNow = httpsCallable(functions, 'runTelegramScrapingNow');\n        var result = yield runScrapingNow();\n        console.log('üìä Result:', result);\n        Alert.alert('Result', JSON.stringify(result.data, null, 2));\n      } catch (error) {\n        console.error('üí• Error:', error);\n        Alert.alert('Error', String(error));\n      } finally {\n        setLoading(false);\n        setScrapingStatus(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            isRunning: false\n          });\n        });\n      }\n    });\n    return function handleManualTrigger() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleScheduledScraping = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      Alert.alert('Scheduled Telegram Scraping', 'This function runs automatically at 9 AM UTC daily. It:\\n\\nüîê Uses your Telegram user credentials\\nüìã Queries all active channels\\nüì• Fetches latest 10 messages per channel\\nü§ñ Uses OpenAI for job extraction\\nüíæ Saves jobs to Firestore\\nüö´ Avoids duplicates', [{\n        text: 'View Implementation',\n        onPress: function onPress() {\n          console.log('üîç Function Implementation Details:');\n          console.log('1. üîê Telegram Authentication: Uses TELEGRAM_SESSION_STRING, API_ID, API_HASH');\n          console.log('2. üìã Channel Query: WHERE isActive==true AND scrapingEnabled==true');\n          console.log('3. üì• Message Fetching: Latest 10 messages per channel via MTProto API');\n          console.log('4. ü§ñ AI Processing: OpenAI GPT-3.5-turbo for job extraction');\n          console.log('5. üíæ Data Storage: Firestore jobs collection with deduplication');\n          console.log('6. üìä Statistics: Updates channel stats (totalJobsScraped, lastScraped)');\n        }\n      }, {\n        text: 'OK'\n      }]);\n    });\n    return function handleScheduledScraping() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"\\uD83D\\uDCF1 Telegram Scraping System\"\n      }), _jsx(Text, {\n        style: styles.subtitle,\n        children: \"Automated job scraping using Telegram User API + OpenAI\"\n      })]\n    }), _jsxs(View, {\n      style: styles.statusContainer,\n      children: [_jsx(Text, {\n        style: styles.statusTitle,\n        children: \"\\uD83E\\uDD16 System Status\"\n      }), _jsx(Text, {\n        style: styles.statusText,\n        children: \"\\u2705 Scheduled Function: Active (9 AM UTC daily)\"\n      }), _jsx(Text, {\n        style: styles.statusText,\n        children: \"\\uD83D\\uDD10 Authentication: Telegram User API\"\n      }), _jsxs(Text, {\n        style: styles.statusText,\n        children: [\"\\uD83D\\uDCCA Active Channels: \", channels.filter(function (c) {\n          return c.isActive && c.scrapingEnabled;\n        }).length]\n      }), _jsxs(Text, {\n        style: styles.statusText,\n        children: [\"\\uD83D\\uDD04 Last Updated: \", lastUpdate.toLocaleString()]\n      })]\n    }), _jsxs(View, {\n      style: styles.channelsContainer,\n      children: [_jsx(Text, {\n        style: styles.channelsTitle,\n        children: \"\\uD83D\\uDCCB Active Channels\"\n      }), loading ? _jsx(Text, {\n        style: styles.loadingText,\n        children: \"Loading channels...\"\n      }) : channels.length === 0 ? _jsx(Text, {\n        style: styles.noChannelsText,\n        children: \"No channels configured\"\n      }) : channels.filter(function (c) {\n        return c.isActive && c.scrapingEnabled;\n      }).map(function (channel) {\n        return _jsxs(View, {\n          style: styles.channelItem,\n          children: [_jsxs(View, {\n            style: styles.channelHeader,\n            children: [_jsxs(Text, {\n              style: styles.channelName,\n              children: [\"@\", channel.username]\n            }), _jsx(View, {\n              style: styles.statusBadge,\n              children: _jsx(Text, {\n                style: styles.statusBadgeText,\n                children: \"Active\"\n              })\n            })]\n          }), _jsxs(Text, {\n            style: styles.channelDetails,\n            children: [channel.name, \" \\u2022 \", channel.category]\n          }), _jsxs(Text, {\n            style: styles.channelStats,\n            children: [\"\\uD83D\\uDCCA Jobs Scraped: \", channel.totalJobsScraped || 0]\n          }), channel.lastScraped && _jsxs(Text, {\n            style: styles.channelStats,\n            children: [\"\\uD83D\\uDD50 Last Scraped: \", new Date(channel.lastScraped).toLocaleString()]\n          })]\n        }, channel.id);\n      }), channels.filter(function (c) {\n        return !c.isActive || !c.scrapingEnabled;\n      }).length > 0 && _jsxs(_Fragment, {\n        children: [_jsx(Text, {\n          style: styles.inactiveTitle,\n          children: \"\\uD83D\\uDCA4 Inactive Channels\"\n        }), channels.filter(function (c) {\n          return !c.isActive || !c.scrapingEnabled;\n        }).map(function (channel) {\n          return _jsxs(View, {\n            style: [styles.channelItem, styles.inactiveChannel],\n            children: [_jsxs(Text, {\n              style: styles.inactiveChannelName,\n              children: [\"@\", channel.username]\n            }), _jsx(Text, {\n              style: styles.channelDetails,\n              children: channel.name\n            })]\n          }, channel.id);\n        })]\n      })]\n    }), (scrapingStatus.isRunning || scrapingLogs.length > 0) && _jsxs(View, {\n      style: styles.loggingContainer,\n      children: [_jsx(Text, {\n        style: styles.loggingTitle,\n        children: \"\\uD83D\\uDD0D Scraping Activity\"\n      }), scrapingStatus.isRunning && _jsxs(View, {\n        style: styles.statusPanel,\n        children: [_jsxs(Text, {\n          style: styles.currentStatus,\n          children: [\"Status: \", scrapingStatus.currentStep]\n        }), _jsx(View, {\n          style: styles.progressBar,\n          children: _jsx(View, {\n            style: [styles.progressFill, {\n              width: `${scrapingStatus.progress}%`\n            }]\n          })\n        }), _jsxs(Text, {\n          style: styles.progressText,\n          children: [scrapingStatus.progress, \"% Complete\"]\n        }), scrapingStatus.startTime && _jsxs(Text, {\n          style: styles.timeText,\n          children: [\"\\u23F1\\uFE0F Started: \", scrapingStatus.startTime.toLocaleTimeString()]\n        })]\n      }), scrapingLogs.length > 0 && _jsxs(View, {\n        style: styles.logsPanel,\n        children: [_jsx(Text, {\n          style: styles.logsTitle,\n          children: \"\\uD83D\\uDCCB Activity Logs\"\n        }), _jsx(ScrollView, {\n          style: styles.logsScroll,\n          showsVerticalScrollIndicator: true,\n          children: scrapingLogs.map(function (log, index) {\n            return _jsx(Text, {\n              style: styles.logEntry,\n              children: log\n            }, index);\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.clearLogsButton,\n          onPress: function onPress() {\n            return setScrapingLogs([]);\n          },\n          children: _jsx(Text, {\n            style: styles.clearLogsText,\n            children: \"\\uD83D\\uDDD1\\uFE0F Clear Logs\"\n          })\n        })]\n      })]\n    }), _jsxs(View, {\n      style: styles.actionContainer,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.actionButton,\n        onPress: handleScheduledScraping,\n        disabled: loading,\n        children: _jsx(Text, {\n          style: styles.actionButtonText,\n          children: \"\\u2139\\uFE0F About Scheduled Function\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.manualButton,\n        onPress: handleManualTrigger,\n        disabled: loading,\n        children: _jsx(Text, {\n          style: styles.manualButtonText,\n          children: loading ? 'ÔøΩ Scraping in Progress...' : 'üöÄ Run Scraping NOW'\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.refreshButton,\n        onPress: loadChannels,\n        disabled: loading,\n        children: _jsx(Text, {\n          style: styles.refreshButtonText,\n          children: loading ? 'üîÑ Loading...' : 'üîÑ Refresh Channels'\n        })\n      }), _jsx(TouchableOpacity, {\n        style: [styles.refreshButton, {\n          backgroundColor: colors.warning\n        }],\n        onPress: _asyncToGenerator(function* () {\n          try {\n            console.log('üß™ Testing callable function...');\n            var testCallable = httpsCallable(functions, 'testCallable');\n            var result = yield testCallable();\n            console.log('üß™ Test result:', result);\n            var data = result.data;\n            Alert.alert('Test Success', `Callable function works!\\n\\nAuthenticated: ${data.authenticated}\\nUID: ${data.uid || 'None'}`);\n          } catch (error) {\n            console.error('üß™ Test failed:', error);\n            var errorMsg = error instanceof Error ? error.message : String(error);\n            Alert.alert('Test Failed', `Error: ${errorMsg}\\n\\nThis shows why the scraping button isn't working.`);\n          }\n        }),\n        children: _jsx(Text, {\n          style: styles.refreshButtonText,\n          children: \"\\uD83E\\uDDEA Test Function\"\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.infoContainer,\n      children: [_jsx(Text, {\n        style: styles.infoTitle,\n        children: \"\\uD83D\\uDD27 How It Works\"\n      }), _jsx(Text, {\n        style: styles.infoText,\n        children: \"1. \\uD83D\\uDD58 Runs daily at 9 AM UTC automatically\"\n      }), _jsx(Text, {\n        style: styles.infoText,\n        children: \"2. \\uD83D\\uDD10 Connects with your Telegram user account\"\n      }), _jsx(Text, {\n        style: styles.infoText,\n        children: \"3. \\uD83D\\uDCCB Queries all active channels from Firestore\"\n      }), _jsx(Text, {\n        style: styles.infoText,\n        children: \"4. \\uD83D\\uDCE5 Fetches latest 10 messages from each channel\"\n      }), _jsx(Text, {\n        style: styles.infoText,\n        children: \"5. \\uD83E\\uDD16 Uses OpenAI to extract job information\"\n      }), _jsx(Text, {\n        style: styles.infoText,\n        children: \"6. \\uD83D\\uDCBE Saves validated jobs to Firestore\"\n      }), _jsx(Text, {\n        style: styles.infoText,\n        children: \"7. \\uD83D\\uDEAB Automatically prevents duplicate jobs\"\n      })]\n    }), _jsxs(View, {\n      style: styles.requirementsContainer,\n      children: [_jsx(Text, {\n        style: styles.infoTitle,\n        children: \"\\u2699\\uFE0F Environment Variables Required\"\n      }), _jsx(Text, {\n        style: styles.requirementText,\n        children: \"\\u2022 TELEGRAM_API_ID: Your Telegram app ID\"\n      }), _jsx(Text, {\n        style: styles.requirementText,\n        children: \"\\u2022 TELEGRAM_API_HASH: Your Telegram app hash\"\n      }), _jsx(Text, {\n        style: styles.requirementText,\n        children: \"\\u2022 TELEGRAM_SESSION_STRING: User session for auth\"\n      }), _jsx(Text, {\n        style: styles.requirementText,\n        children: \"\\u2022 OPENAI_API_KEY: OpenAI API for job extraction\"\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cream\n  },\n  header: {\n    padding: 20,\n    backgroundColor: colors.deepNavy,\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.white,\n    marginBottom: 8\n  },\n  subtitle: {\n    fontSize: 16,\n    color: colors.beeYellow,\n    textAlign: 'center'\n  },\n  statusContainer: {\n    margin: 16,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    shadowColor: colors.charcoal,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3\n  },\n  statusTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12\n  },\n  statusText: {\n    fontSize: 14,\n    color: colors.charcoal,\n    marginBottom: 6\n  },\n  channelsContainer: {\n    margin: 16,\n    marginTop: 0\n  },\n  channelsTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12\n  },\n  channelItem: {\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n    shadowColor: colors.charcoal,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3\n  },\n  channelHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  channelName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.deepNavy\n  },\n  statusBadge: {\n    backgroundColor: colors.success,\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12\n  },\n  statusBadgeText: {\n    color: colors.white,\n    fontSize: 12,\n    fontWeight: 'bold'\n  },\n  channelDetails: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginBottom: 4\n  },\n  channelStats: {\n    fontSize: 12,\n    color: colors.charcoal,\n    marginTop: 2\n  },\n  loadingText: {\n    textAlign: 'center',\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    padding: 20\n  },\n  noChannelsText: {\n    textAlign: 'center',\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    padding: 20\n  },\n  inactiveTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.warmGray,\n    marginTop: 16,\n    marginBottom: 8\n  },\n  inactiveChannel: {\n    opacity: 0.6,\n    backgroundColor: colors.lightGray\n  },\n  inactiveChannelName: {\n    fontSize: 14,\n    color: colors.warmGray,\n    fontWeight: 'bold'\n  },\n  actionContainer: {\n    padding: 16,\n    gap: 12\n  },\n  actionButton: {\n    backgroundColor: colors.deepNavy,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  actionButtonText: {\n    color: colors.white,\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  manualButton: {\n    backgroundColor: colors.beeYellow,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  manualButtonText: {\n    color: colors.deepNavy,\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  refreshButton: {\n    backgroundColor: colors.success,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  refreshButtonText: {\n    color: colors.white,\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  infoContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12\n  },\n  infoTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12\n  },\n  infoText: {\n    fontSize: 14,\n    color: colors.charcoal,\n    marginBottom: 8,\n    lineHeight: 20\n  },\n  requirementsContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.lightGray,\n    borderRadius: 12\n  },\n  requirementText: {\n    fontSize: 13,\n    color: colors.charcoal,\n    marginBottom: 6,\n    fontFamily: 'monospace'\n  },\n  loggingContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    borderWidth: 2,\n    borderColor: colors.beeYellow\n  },\n  loggingTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  statusPanel: {\n    backgroundColor: colors.lightGray,\n    padding: 12,\n    borderRadius: 8,\n    marginBottom: 16\n  },\n  currentStatus: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 8\n  },\n  progressBar: {\n    height: 6,\n    backgroundColor: colors.cream,\n    borderRadius: 3,\n    marginVertical: 8,\n    overflow: 'hidden'\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: colors.beeYellow,\n    borderRadius: 3\n  },\n  progressText: {\n    fontSize: 12,\n    color: colors.warmGray,\n    textAlign: 'center',\n    marginBottom: 4\n  },\n  timeText: {\n    fontSize: 11,\n    color: colors.warmGray,\n    fontStyle: 'italic'\n  },\n  logsPanel: {\n    backgroundColor: colors.charcoal,\n    borderRadius: 8,\n    padding: 12,\n    maxHeight: 200\n  },\n  logsTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: colors.white,\n    marginBottom: 8\n  },\n  logsScroll: {\n    maxHeight: 120,\n    marginBottom: 8\n  },\n  logEntry: {\n    fontSize: 11,\n    color: colors.cream,\n    fontFamily: 'monospace',\n    marginBottom: 2,\n    lineHeight: 16\n  },\n  clearLogsButton: {\n    backgroundColor: colors.danger,\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n    borderRadius: 4,\n    alignSelf: 'flex-end'\n  },\n  clearLogsText: {\n    color: colors.white,\n    fontSize: 11,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","ScrollView","Alert","collection","getDocs","httpsCallable","db","functions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","colors","beeYellow","honeyGold","darkYellow","deepNavy","charcoal","cream","white","warmGray","lightGray","success","danger","warning","TelegramChannelsManager","_useState","_useState2","_slicedToArray","channels","setChannels","_useState3","_useState4","loading","setLoading","_useState5","Date","_useState6","lastUpdate","setLastUpdate","_useState7","_useState8","scrapingLogs","setScrapingLogs","_useState9","isRunning","currentStep","progress","_useState0","scrapingStatus","setScrapingStatus","loadChannels","_ref","_asyncToGenerator","channelsSnapshot","channelsData","docs","map","doc","_objectSpread","id","data","error","console","alert","apply","arguments","addLog","message","timestamp","toLocaleTimeString","logMessage","prev","concat","_toConsumableArray","slice","log","updateStatus","step","length","undefined","lastActivity","handleManualTrigger","_ref2","startTime","runScrapingNow","result","JSON","stringify","String","handleScheduledScraping","_ref3","text","onPress","style","styles","container","children","header","title","subtitle","statusContainer","statusTitle","statusText","filter","c","isActive","scrapingEnabled","toLocaleString","channelsContainer","channelsTitle","loadingText","noChannelsText","channel","channelItem","channelHeader","channelName","username","statusBadge","statusBadgeText","channelDetails","name","category","channelStats","totalJobsScraped","lastScraped","inactiveTitle","inactiveChannel","inactiveChannelName","loggingContainer","loggingTitle","statusPanel","currentStatus","progressBar","progressFill","width","progressText","timeText","logsPanel","logsTitle","logsScroll","showsVerticalScrollIndicator","index","logEntry","clearLogsButton","clearLogsText","actionContainer","actionButton","disabled","actionButtonText","manualButton","manualButtonText","refreshButton","refreshButtonText","backgroundColor","testCallable","authenticated","uid","errorMsg","Error","infoContainer","infoTitle","infoText","requirementsContainer","requirementText","create","flex","padding","alignItems","fontSize","fontWeight","color","marginBottom","textAlign","margin","borderRadius","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","marginTop","flexDirection","justifyContent","paddingHorizontal","paddingVertical","fontStyle","opacity","gap","lineHeight","fontFamily","borderWidth","borderColor","marginVertical","overflow","maxHeight","alignSelf"],"sources":["/home/nathan/Documents/Workspace/NibJobs 2.0/mobile/src/components/TelegramChannelsManager.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  ScrollView,\n  Alert,\n} from 'react-native';\nimport { collection, getDocs } from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { db, functions } from '../config/firebase';\n\nconst colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\n\ninterface TelegramChannel {\n  id: string;\n  username: string;\n  name: string;\n  imageUrl?: string;\n  category: string;\n  isActive: boolean;\n  scrapingEnabled: boolean;\n  totalJobsScraped: number;\n  lastScraped?: Date;\n}\n\nexport default function TelegramChannelsManager() {\n  const [channels, setChannels] = useState<TelegramChannel[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [lastUpdate, setLastUpdate] = useState<Date>(new Date());\n  const [scrapingLogs, setScrapingLogs] = useState<string[]>([]);\n  const [scrapingStatus, setScrapingStatus] = useState<{\n    isRunning: boolean;\n    currentStep: string;\n    progress: number;\n    startTime?: Date;\n    lastActivity?: Date;\n  }>({\n    isRunning: false,\n    currentStep: '',\n    progress: 0\n  });\n\n  // Load channels from Firestore\n  const loadChannels = async () => {\n    try {\n      setLoading(true);\n      const channelsSnapshot = await getDocs(collection(db, 'telegramChannels'));\n      const channelsData = channelsSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })) as TelegramChannel[];\n      \n      setChannels(channelsData);\n      setLastUpdate(new Date());\n    } catch (error) {\n      console.error('Error loading channels:', error);\n      Alert.alert('Error', 'Failed to load telegram channels');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadChannels();\n  }, []);\n\n  // Helper function to add logs\n  const addLog = (message: string) => {\n    const timestamp = new Date().toLocaleTimeString();\n    const logMessage = `[${timestamp}] ${message}`;\n    setScrapingLogs(prev => [...prev.slice(-20), logMessage]); // Keep last 20 logs\n    console.log(logMessage);\n  };\n\n  // Helper function to update scraping status\n  const updateStatus = (step: string, progress: number = 0) => {\n    setScrapingStatus(prev => ({\n      ...prev,\n      currentStep: step,\n      progress,\n      lastActivity: new Date()\n    }));\n    addLog(step);\n  };\n\n  const handleManualTrigger = async () => {\n    console.log('üîç DEBUG: Manual trigger button clicked');\n    \n    // Initialize scraping state\n    setLoading(true);\n    setScrapingLogs([]);\n    setScrapingStatus({\n      isRunning: true,\n      currentStep: 'Initializing...',\n      progress: 0,\n      startTime: new Date()\n    });\n    \n    try {\n      console.log('üîç DEBUG: Starting manual trigger execution');\n      addLog('üöÄ Starting manual Telegram scraping...');\n      \n      const runScrapingNow = httpsCallable(functions, 'runTelegramScrapingNow');\n      const result = await runScrapingNow();\n      \n      console.log('üìä Result:', result);\n      Alert.alert('Result', JSON.stringify(result.data, null, 2));\n      \n    } catch (error) {\n      console.error('üí• Error:', error);\n      Alert.alert('Error', String(error));\n    } finally {\n      setLoading(false);\n      setScrapingStatus(prev => ({ ...prev, isRunning: false }));\n    }\n  };\n\n\n  const handleScheduledScraping = async () => {\n    Alert.alert(\n      'Scheduled Telegram Scraping',\n      'This function runs automatically at 9 AM UTC daily. It:\\n\\nüîê Uses your Telegram user credentials\\nüìã Queries all active channels\\nüì• Fetches latest 10 messages per channel\\nü§ñ Uses OpenAI for job extraction\\nüíæ Saves jobs to Firestore\\nüö´ Avoids duplicates',\n      [\n        { text: 'View Implementation', onPress: () => {\n          console.log('üîç Function Implementation Details:');\n          console.log('1. üîê Telegram Authentication: Uses TELEGRAM_SESSION_STRING, API_ID, API_HASH');\n          console.log('2. üìã Channel Query: WHERE isActive==true AND scrapingEnabled==true');\n          console.log('3. üì• Message Fetching: Latest 10 messages per channel via MTProto API');\n          console.log('4. ü§ñ AI Processing: OpenAI GPT-3.5-turbo for job extraction');\n          console.log('5. üíæ Data Storage: Firestore jobs collection with deduplication');\n          console.log('6. üìä Statistics: Updates channel stats (totalJobsScraped, lastScraped)');\n        }},\n        { text: 'OK' }\n      ]\n    );\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.header}>\n        <Text style={styles.title}>üì± Telegram Scraping System</Text>\n        <Text style={styles.subtitle}>\n          Automated job scraping using Telegram User API + OpenAI\n        </Text>\n      </View>\n\n      {/* System Status */}\n      <View style={styles.statusContainer}>\n        <Text style={styles.statusTitle}>ü§ñ System Status</Text>\n        <Text style={styles.statusText}>\n          ‚úÖ Scheduled Function: Active (9 AM UTC daily)\n        </Text>\n        <Text style={styles.statusText}>\n          üîê Authentication: Telegram User API \n        </Text>\n        <Text style={styles.statusText}>\n          üìä Active Channels: {channels.filter(c => c.isActive && c.scrapingEnabled).length}\n        </Text>\n        <Text style={styles.statusText}>\n          üîÑ Last Updated: {lastUpdate.toLocaleString()}\n        </Text>\n      </View>\n\n      {/* Channel Statistics */}\n      <View style={styles.channelsContainer}>\n        <Text style={styles.channelsTitle}>üìã Active Channels</Text>\n        \n        {loading ? (\n          <Text style={styles.loadingText}>Loading channels...</Text>\n        ) : channels.length === 0 ? (\n          <Text style={styles.noChannelsText}>No channels configured</Text>\n        ) : (\n          channels\n            .filter(c => c.isActive && c.scrapingEnabled)\n            .map(channel => (\n              <View key={channel.id} style={styles.channelItem}>\n                <View style={styles.channelHeader}>\n                  <Text style={styles.channelName}>@{channel.username}</Text>\n                  <View style={styles.statusBadge}>\n                    <Text style={styles.statusBadgeText}>Active</Text>\n                  </View>\n                </View>\n                <Text style={styles.channelDetails}>\n                  {channel.name} ‚Ä¢ {channel.category}\n                </Text>\n                <Text style={styles.channelStats}>\n                  üìä Jobs Scraped: {channel.totalJobsScraped || 0}\n                </Text>\n                {channel.lastScraped && (\n                  <Text style={styles.channelStats}>\n                    üïê Last Scraped: {new Date(channel.lastScraped).toLocaleString()}\n                  </Text>\n                )}\n              </View>\n            ))\n        )}\n        \n        {channels.filter(c => !c.isActive || !c.scrapingEnabled).length > 0 && (\n          <>\n            <Text style={styles.inactiveTitle}>üí§ Inactive Channels</Text>\n            {channels\n              .filter(c => !c.isActive || !c.scrapingEnabled)\n              .map(channel => (\n                <View key={channel.id} style={[styles.channelItem, styles.inactiveChannel]}>\n                  <Text style={styles.inactiveChannelName}>@{channel.username}</Text>\n                  <Text style={styles.channelDetails}>{channel.name}</Text>\n                </View>\n              ))\n            }\n          </>\n        )}\n      </View>\n\n      {/* Real-time Scraping Status & Logs */}\n      {(scrapingStatus.isRunning || scrapingLogs.length > 0) && (\n        <View style={styles.loggingContainer}>\n          <Text style={styles.loggingTitle}>üîç Scraping Activity</Text>\n          \n          {/* Current Status */}\n          {scrapingStatus.isRunning && (\n            <View style={styles.statusPanel}>\n              <Text style={styles.currentStatus}>\n                Status: {scrapingStatus.currentStep}\n              </Text>\n              <View style={styles.progressBar}>\n                <View \n                  style={[\n                    styles.progressFill, \n                    { width: `${scrapingStatus.progress}%` }\n                  ]} \n                />\n              </View>\n              <Text style={styles.progressText}>\n                {scrapingStatus.progress}% Complete\n              </Text>\n              {scrapingStatus.startTime && (\n                <Text style={styles.timeText}>\n                  ‚è±Ô∏è Started: {scrapingStatus.startTime.toLocaleTimeString()}\n                </Text>\n              )}\n            </View>\n          )}\n          \n          {/* Live Logs */}\n          {scrapingLogs.length > 0 && (\n            <View style={styles.logsPanel}>\n              <Text style={styles.logsTitle}>üìã Activity Logs</Text>\n              <ScrollView \n                style={styles.logsScroll}\n                showsVerticalScrollIndicator={true}\n              >\n                {scrapingLogs.map((log, index) => (\n                  <Text key={index} style={styles.logEntry}>\n                    {log}\n                  </Text>\n                ))}\n              </ScrollView>\n              <TouchableOpacity \n                style={styles.clearLogsButton}\n                onPress={() => setScrapingLogs([])}\n              >\n                <Text style={styles.clearLogsText}>üóëÔ∏è Clear Logs</Text>\n              </TouchableOpacity>\n            </View>\n          )}\n        </View>\n      )}\n\n      {/* Action Buttons */}\n      <View style={styles.actionContainer}>\n        <TouchableOpacity \n          style={styles.actionButton}\n          onPress={handleScheduledScraping}\n          disabled={loading}\n        >\n          <Text style={styles.actionButtonText}>\n            ‚ÑπÔ∏è About Scheduled Function\n          </Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity \n          style={styles.manualButton}\n          onPress={handleManualTrigger}\n          disabled={loading}\n        >\n          <Text style={styles.manualButtonText}>\n            {loading ? 'ÔøΩ Scraping in Progress...' : 'üöÄ Run Scraping NOW'}\n          </Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity \n          style={styles.refreshButton}\n          onPress={loadChannels}\n          disabled={loading}\n        >\n          <Text style={styles.refreshButtonText}>\n            {loading ? 'üîÑ Loading...' : 'üîÑ Refresh Channels'}\n          </Text>\n        </TouchableOpacity>\n\n        {/* Test Button */}\n        <TouchableOpacity \n          style={[styles.refreshButton, { backgroundColor: colors.warning }]}\n          onPress={async () => {\n            try {\n              console.log('üß™ Testing callable function...');\n              const testCallable = httpsCallable(functions, 'testCallable');\n              const result = await testCallable();\n              console.log('üß™ Test result:', result);\n              const data = result.data as any;\n              Alert.alert('Test Success', `Callable function works!\\n\\nAuthenticated: ${data.authenticated}\\nUID: ${data.uid || 'None'}`);\n            } catch (error) {\n              console.error('üß™ Test failed:', error);\n              const errorMsg = error instanceof Error ? error.message : String(error);\n              Alert.alert('Test Failed', `Error: ${errorMsg}\\n\\nThis shows why the scraping button isn't working.`);\n            }\n          }}\n        >\n          <Text style={styles.refreshButtonText}>üß™ Test Function</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Information */}\n      <View style={styles.infoContainer}>\n        <Text style={styles.infoTitle}>üîß How It Works</Text>\n        <Text style={styles.infoText}>\n          1. üïò Runs daily at 9 AM UTC automatically\n        </Text>\n        <Text style={styles.infoText}>\n          2. üîê Connects with your Telegram user account\n        </Text>\n        <Text style={styles.infoText}>\n          3. üìã Queries all active channels from Firestore\n        </Text>\n        <Text style={styles.infoText}>\n          4. üì• Fetches latest 10 messages from each channel\n        </Text>\n        <Text style={styles.infoText}>\n          5. ü§ñ Uses OpenAI to extract job information\n        </Text>\n        <Text style={styles.infoText}>\n          6. üíæ Saves validated jobs to Firestore\n        </Text>\n        <Text style={styles.infoText}>\n          7. üö´ Automatically prevents duplicate jobs\n        </Text>\n      </View>\n\n      {/* Requirements */}\n      <View style={styles.requirementsContainer}>\n        <Text style={styles.infoTitle}>‚öôÔ∏è Environment Variables Required</Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ TELEGRAM_API_ID: Your Telegram app ID\n        </Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ TELEGRAM_API_HASH: Your Telegram app hash  \n        </Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ TELEGRAM_SESSION_STRING: User session for auth\n        </Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ OPENAI_API_KEY: OpenAI API for job extraction\n        </Text>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cream,\n  },\n  header: {\n    padding: 20,\n    backgroundColor: colors.deepNavy,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.white,\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 16,\n    color: colors.beeYellow,\n    textAlign: 'center',\n  },\n  statusContainer: {\n    margin: 16,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    shadowColor: colors.charcoal,\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  statusTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12,\n  },\n  statusText: {\n    fontSize: 14,\n    color: colors.charcoal,\n    marginBottom: 6,\n  },\n  channelsContainer: {\n    margin: 16,\n    marginTop: 0,\n  },\n  channelsTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12,\n  },\n  channelItem: {\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n    shadowColor: colors.charcoal,\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  channelHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  channelName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n  },\n  statusBadge: {\n    backgroundColor: colors.success,\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n  },\n  statusBadgeText: {\n    color: colors.white,\n    fontSize: 12,\n    fontWeight: 'bold',\n  },\n  channelDetails: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginBottom: 4,\n  },\n  channelStats: {\n    fontSize: 12,\n    color: colors.charcoal,\n    marginTop: 2,\n  },\n  loadingText: {\n    textAlign: 'center',\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    padding: 20,\n  },\n  noChannelsText: {\n    textAlign: 'center',\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    padding: 20,\n  },\n  inactiveTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.warmGray,\n    marginTop: 16,\n    marginBottom: 8,\n  },\n  inactiveChannel: {\n    opacity: 0.6,\n    backgroundColor: colors.lightGray,\n  },\n  inactiveChannelName: {\n    fontSize: 14,\n    color: colors.warmGray,\n    fontWeight: 'bold',\n  },\n  actionContainer: {\n    padding: 16,\n    gap: 12,\n  },\n  actionButton: {\n    backgroundColor: colors.deepNavy,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  actionButtonText: {\n    color: colors.white,\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  manualButton: {\n    backgroundColor: colors.beeYellow,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  manualButtonText: {\n    color: colors.deepNavy,\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  refreshButton: {\n    backgroundColor: colors.success,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  refreshButtonText: {\n    color: colors.white,\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  infoContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n  },\n  infoTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12,\n  },\n  infoText: {\n    fontSize: 14,\n    color: colors.charcoal,\n    marginBottom: 8,\n    lineHeight: 20,\n  },\n  requirementsContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.lightGray,\n    borderRadius: 12,\n  },\n  requirementText: {\n    fontSize: 13,\n    color: colors.charcoal,\n    marginBottom: 6,\n    fontFamily: 'monospace',\n  },\n  // Logging and status styles\n  loggingContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    borderWidth: 2,\n    borderColor: colors.beeYellow,\n  },\n  loggingTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 16,\n    textAlign: 'center',\n  },\n  statusPanel: {\n    backgroundColor: colors.lightGray,\n    padding: 12,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  currentStatus: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 8,\n  },\n  progressBar: {\n    height: 6,\n    backgroundColor: colors.cream,\n    borderRadius: 3,\n    marginVertical: 8,\n    overflow: 'hidden',\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: colors.beeYellow,\n    borderRadius: 3,\n  },\n  progressText: {\n    fontSize: 12,\n    color: colors.warmGray,\n    textAlign: 'center',\n    marginBottom: 4,\n  },\n  timeText: {\n    fontSize: 11,\n    color: colors.warmGray,\n    fontStyle: 'italic',\n  },\n  logsPanel: {\n    backgroundColor: colors.charcoal,\n    borderRadius: 8,\n    padding: 12,\n    maxHeight: 200,\n  },\n  logsTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: colors.white,\n    marginBottom: 8,\n  },\n  logsScroll: {\n    maxHeight: 120,\n    marginBottom: 8,\n  },\n  logEntry: {\n    fontSize: 11,\n    color: colors.cream,\n    fontFamily: 'monospace',\n    marginBottom: 2,\n    lineHeight: 16,\n  },\n  clearLogsButton: {\n    backgroundColor: colors.danger,\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n    borderRadius: 4,\n    alignSelf: 'flex-end',\n  },\n  clearLogsText: {\n    color: colors.white,\n    fontSize: 11,\n    fontWeight: 'bold',\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}