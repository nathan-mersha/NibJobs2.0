{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { collection, getDocs, addDoc, updateDoc, doc, serverTimestamp, getFirestore } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\nexport function TelegramChannelsManager() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    channels = _useState2[0],\n    setChannels = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showAddModal = _useState6[0],\n    setShowAddModal = _useState6[1];\n  var _useState7 = useState({\n      username: '',\n      name: '',\n      imageUrl: '',\n      category: 'general'\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    newChannel = _useState8[0],\n    setNewChannel = _useState8[1];\n  var _useState9 = useState(null),\n    _useState0 = _slicedToArray(_useState9, 2),\n    selectedImage = _useState0[0],\n    setSelectedImage = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    uploading = _useState10[0],\n    setUploading = _useState10[1];\n  var db = getFirestore();\n  var storage = getStorage();\n  useEffect(function () {\n    loadChannels();\n  }, []);\n  var uploadChannelImage = function () {\n    var _ref = _asyncToGenerator(function* (channelUsername, imageUri) {\n      try {\n        var response = yield fetch(imageUri);\n        var blob = yield response.blob();\n        var imageRef = ref(storage, `telegram-channels/${channelUsername}/channel-image.jpg`);\n        yield uploadBytes(imageRef, blob);\n        var downloadURL = yield getDownloadURL(imageRef);\n        return downloadURL;\n      } catch (error) {\n        console.error('Error uploading image:', error);\n        throw error;\n      }\n    });\n    return function uploadChannelImage(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var selectImage = function selectImage() {\n    var input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.onchange = function (e) {\n      var _files;\n      var file = (_files = e.target.files) == null ? void 0 : _files[0];\n      if (file) {\n        var imageUrl = URL.createObjectURL(file);\n        setSelectedImage(imageUrl);\n      }\n    };\n    input.click();\n  };\n  var loadChannels = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setLoading(true);\n      try {\n        var channelsCollection = collection(db, 'telegramChannels');\n        var channelsSnapshot = yield getDocs(channelsCollection);\n        var channelsList = channelsSnapshot.docs.map(function (doc) {\n          return _objectSpread({\n            id: doc.id\n          }, doc.data());\n        });\n        setChannels(channelsList);\n      } catch (error) {\n        console.error('Error loading channels:', error);\n        Alert.alert('Error', 'Failed to load Telegram channels');\n      }\n      setLoading(false);\n    });\n    return function loadChannels() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var addChannel = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!newChannel.username.trim() || !newChannel.name.trim()) {\n        Alert.alert('Error', 'Please fill in username and name');\n        return;\n      }\n      setLoading(true);\n      try {\n        var channelsCollection = collection(db, 'telegramChannels');\n        var existingChannels = yield getDocs(channelsCollection);\n        var existingUsernames = existingChannels.docs.map(function (doc) {\n          return doc.data().username;\n        });\n        var cleanUsername = newChannel.username.replace('@', '');\n        if (existingUsernames.includes(cleanUsername)) {\n          Alert.alert('Error', `Channel @${cleanUsername} already exists`);\n          setLoading(false);\n          return;\n        }\n        var imageUrl = '';\n        if (selectedImage) {\n          setUploading(true);\n          try {\n            imageUrl = yield uploadChannelImage(cleanUsername, selectedImage);\n          } catch (error) {\n            console.error('Error uploading image:', error);\n            Alert.alert('Warning', 'Channel added but image upload failed');\n          }\n          setUploading(false);\n        }\n        var newChannelDoc = {\n          username: cleanUsername,\n          name: newChannel.name,\n          imageUrl: imageUrl,\n          category: newChannel.category,\n          isActive: true,\n          scrapingEnabled: true,\n          totalJobsScraped: 0,\n          lastScraped: null,\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp()\n        };\n        yield addDoc(channelsCollection, newChannelDoc);\n        Alert.alert('Success', 'Channel added successfully!');\n        setNewChannel({\n          username: '',\n          name: '',\n          imageUrl: '',\n          category: 'general'\n        });\n        setSelectedImage(null);\n        setShowAddModal(false);\n        loadChannels();\n      } catch (error) {\n        console.error('Error adding channel:', error);\n        Alert.alert('Error', 'Failed to add channel');\n      }\n      setLoading(false);\n    });\n    return function addChannel() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var triggerManualScrape = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      var activeChannels = channels.filter(function (ch) {\n        return ch.isActive && ch.scrapingEnabled;\n      }).map(function (ch) {\n        return ch.username;\n      });\n      if (activeChannels.length === 0) {\n        Alert.alert('No Channels', 'No active channels available for scraping');\n        return;\n      }\n      Alert.alert('Manual Scraping', `Start scraping ${activeChannels.length} active channels?\\n\\nNote: This is a simulation until Telegram bot is configured.`, [{\n        text: 'Cancel',\n        style: 'cancel'\n      }, {\n        text: 'Start Scraping',\n        onPress: function () {\n          var _onPress = _asyncToGenerator(function* () {\n            setLoading(true);\n            try {\n              var totalJobs = Math.floor(Math.random() * 50) + 10;\n              for (var channel of channels.filter(function (ch) {\n                return ch.isActive && ch.scrapingEnabled;\n              })) {\n                var channelRef = doc(db, 'telegramChannels', channel.id);\n                var jobsFound = Math.floor(Math.random() * 10) + 1;\n                yield updateDoc(channelRef, {\n                  totalJobsScraped: (channel.totalJobsScraped || 0) + jobsFound,\n                  lastScraped: serverTimestamp(),\n                  updatedAt: serverTimestamp()\n                });\n              }\n              Alert.alert('Scraping Simulation Complete', `Simulated scraping ${totalJobs} jobs from ${activeChannels.length} channels.\\n\\nConfigure Telegram bot token to enable real scraping.`);\n              loadChannels();\n            } catch (error) {\n              console.error('Error during manual scraping:', error);\n              Alert.alert('Error', 'Manual scraping simulation failed');\n            }\n            setLoading(false);\n          });\n          function onPress() {\n            return _onPress.apply(this, arguments);\n          }\n          return onPress;\n        }()\n      }]);\n    });\n    return function triggerManualScrape() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"\\uD83D\\uDCF1 Telegram Channels\"\n    }), _jsxs(View, {\n      style: styles.headerActions,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.addButton,\n        onPress: function onPress() {\n          return setShowAddModal(true);\n        },\n        disabled: loading,\n        children: _jsx(Text, {\n          style: styles.addButtonText,\n          children: \"+ Add Channel\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.scrapeButton,\n        onPress: triggerManualScrape,\n        disabled: loading,\n        children: _jsx(Text, {\n          style: styles.scrapeButtonText,\n          children: loading ? 'ðŸ”„ Working...' : 'ðŸ¤– Manual Scrape'\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.refreshButton,\n        onPress: loadChannels,\n        children: _jsx(Text, {\n          style: styles.refreshButtonText,\n          children: \"\\uD83D\\uDD04 Refresh\"\n        })\n      })]\n    }), _jsx(ScrollView, {\n      style: styles.channelsList,\n      children: channels.length === 0 ? _jsxs(View, {\n        style: styles.emptyState,\n        children: [_jsx(Text, {\n          style: styles.emptyText,\n          children: \"No channels configured\"\n        }), _jsx(Text, {\n          style: styles.emptySubtext,\n          children: \"Add your first Telegram channel to start scraping jobs\"\n        })]\n      }) : channels.map(function (channel) {\n        return _jsxs(View, {\n          style: styles.channelCard,\n          children: [_jsxs(View, {\n            style: styles.channelHeader,\n            children: [_jsx(View, {\n              style: styles.channelIcon,\n              children: _jsx(Text, {\n                style: styles.iconText,\n                children: channel.icon\n              })\n            }), _jsxs(View, {\n              style: styles.channelInfo,\n              children: [_jsxs(Text, {\n                style: styles.channelName,\n                children: [\"@\", channel.username]\n              }), _jsx(Text, {\n                style: styles.channelTitle,\n                children: channel.name\n              }), _jsxs(Text, {\n                style: styles.channelMeta,\n                children: [channel.category, \" \\u2022 \", channel.totalJobsScraped, \" jobs scraped\"]\n              })]\n            }), _jsxs(View, {\n              style: styles.channelControls,\n              children: [_jsxs(View, {\n                style: styles.switchContainer,\n                children: [_jsx(Text, {\n                  style: styles.switchLabel,\n                  children: \"Active\"\n                }), _jsx(Switch, {\n                  value: channel.isActive,\n                  onValueChange: (function () {\n                    var _ref5 = _asyncToGenerator(function* (value) {\n                      try {\n                        var channelRef = doc(db, 'telegramChannels', channel.id);\n                        yield updateDoc(channelRef, {\n                          isActive: value,\n                          updatedAt: serverTimestamp()\n                        });\n                        var updatedChannels = channels.map(function (ch) {\n                          return ch.id === channel.id ? _objectSpread(_objectSpread({}, ch), {}, {\n                            isActive: value\n                          }) : ch;\n                        });\n                        setChannels(updatedChannels);\n                      } catch (error) {\n                        console.error('Error updating channel active status:', error);\n                        Alert.alert('Error', 'Failed to update channel status');\n                      }\n                    });\n                    return function (_x3) {\n                      return _ref5.apply(this, arguments);\n                    };\n                  }()),\n                  trackColor: {\n                    false: colors.lightGray,\n                    true: colors.success\n                  },\n                  thumbColor: channel.isActive ? colors.white : colors.warmGray\n                })]\n              }), _jsxs(View, {\n                style: styles.switchContainer,\n                children: [_jsx(Text, {\n                  style: styles.switchLabel,\n                  children: \"Scraping\"\n                }), _jsx(Switch, {\n                  value: channel.scrapingEnabled,\n                  onValueChange: (function () {\n                    var _ref6 = _asyncToGenerator(function* (value) {\n                      try {\n                        var channelRef = doc(db, 'telegramChannels', channel.id);\n                        yield updateDoc(channelRef, {\n                          scrapingEnabled: value,\n                          updatedAt: serverTimestamp()\n                        });\n                        var updatedChannels = channels.map(function (ch) {\n                          return ch.id === channel.id ? _objectSpread(_objectSpread({}, ch), {}, {\n                            scrapingEnabled: value\n                          }) : ch;\n                        });\n                        setChannels(updatedChannels);\n                      } catch (error) {\n                        console.error('Error updating channel scraping status:', error);\n                        Alert.alert('Error', 'Failed to update scraping status');\n                      }\n                    });\n                    return function (_x4) {\n                      return _ref6.apply(this, arguments);\n                    };\n                  }()),\n                  trackColor: {\n                    false: colors.lightGray,\n                    true: colors.beeYellow\n                  },\n                  thumbColor: channel.scrapingEnabled ? colors.white : colors.warmGray\n                })]\n              })]\n            })]\n          }), channel.lastScraped && _jsxs(Text, {\n            style: styles.lastScraped,\n            children: [\"Last scraped: \", new Date(channel.lastScraped).toLocaleDateString()]\n          })]\n        }, channel.id);\n      })\n    }), _jsx(Modal, {\n      visible: showAddModal,\n      animationType: \"slide\",\n      transparent: true,\n      onRequestClose: function onRequestClose() {\n        return setShowAddModal(false);\n      },\n      children: _jsx(View, {\n        style: styles.modalOverlay,\n        children: _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Add Telegram Channel\"\n          }), _jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.inputLabel,\n              children: \"Channel Username\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: newChannel.username,\n              onChangeText: function onChangeText(text) {\n                return setNewChannel(_objectSpread(_objectSpread({}, newChannel), {}, {\n                  username: text.replace('@', '')\n                }));\n              },\n              placeholder: \"e.g., jobsindubai\",\n              placeholderTextColor: colors.warmGray\n            })]\n          }), _jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.inputLabel,\n              children: \"Display Name\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: newChannel.name,\n              onChangeText: function onChangeText(text) {\n                return setNewChannel(_objectSpread(_objectSpread({}, newChannel), {}, {\n                  name: text\n                }));\n              },\n              placeholder: \"e.g., Jobs in Dubai\",\n              placeholderTextColor: colors.warmGray\n            })]\n          }), _jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.inputLabel,\n              children: \"Channel Icon\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: newChannel.icon,\n              onChangeText: function onChangeText(text) {\n                return setNewChannel(_objectSpread(_objectSpread({}, newChannel), {}, {\n                  icon: text\n                }));\n              },\n              placeholder: \"e.g., \\uD83D\\uDCBC, \\uD83C\\uDFE2, \\uD83C\\uDF1F, \\uD83D\\uDCF1\",\n              placeholderTextColor: colors.warmGray,\n              maxLength: 2\n            })]\n          }), _jsxs(View, {\n            style: styles.inputGroup,\n            children: [_jsx(Text, {\n              style: styles.inputLabel,\n              children: \"Category\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: newChannel.category,\n              onChangeText: function onChangeText(text) {\n                return setNewChannel(_objectSpread(_objectSpread({}, newChannel), {}, {\n                  category: text\n                }));\n              },\n              placeholder: \"e.g., technology, marketing, general\",\n              placeholderTextColor: colors.warmGray\n            })]\n          }), _jsxs(View, {\n            style: styles.modalActions,\n            children: [_jsx(TouchableOpacity, {\n              style: styles.modalCancelButton,\n              onPress: function onPress() {\n                return setShowAddModal(false);\n              },\n              children: _jsx(Text, {\n                style: styles.modalCancelText,\n                children: \"Cancel\"\n              })\n            }), _jsx(TouchableOpacity, {\n              style: styles.modalAddButton,\n              onPress: addChannel,\n              disabled: loading,\n              children: _jsx(Text, {\n                style: styles.modalAddText,\n                children: loading ? 'Adding...' : 'Add Channel'\n              })\n            })]\n          })]\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 20\n  },\n  headerActions: {\n    flexDirection: 'row',\n    marginBottom: 20,\n    gap: 10\n  },\n  addButton: {\n    backgroundColor: colors.beeYellow,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 8,\n    flex: 1\n  },\n  addButtonText: {\n    color: colors.deepNavy,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  scrapeButton: {\n    backgroundColor: colors.success,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 8,\n    flex: 1\n  },\n  scrapeButtonText: {\n    color: colors.white,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  refreshButton: {\n    backgroundColor: colors.lightGray,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 8\n  },\n  refreshButtonText: {\n    color: colors.deepNavy,\n    fontWeight: 'bold'\n  },\n  channelsList: {\n    flex: 1\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60\n  },\n  emptyText: {\n    fontSize: 18,\n    color: colors.warmGray,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  emptySubtext: {\n    fontSize: 14,\n    color: colors.warmGray,\n    textAlign: 'center',\n    lineHeight: 20\n  },\n  channelCard: {\n    backgroundColor: colors.white,\n    padding: 20,\n    borderRadius: 12,\n    marginBottom: 15,\n    borderLeftWidth: 4,\n    borderLeftColor: colors.beeYellow\n  },\n  channelHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start'\n  },\n  channelInfo: {\n    flex: 1\n  },\n  channelName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 5\n  },\n  channelTitle: {\n    fontSize: 16,\n    color: colors.charcoal,\n    marginBottom: 5\n  },\n  channelMeta: {\n    fontSize: 12,\n    color: colors.warmGray\n  },\n  channelControls: {\n    alignItems: 'flex-end'\n  },\n  switchContainer: {\n    alignItems: 'center',\n    marginBottom: 10\n  },\n  switchLabel: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginBottom: 5\n  },\n  lastScraped: {\n    fontSize: 12,\n    color: colors.success,\n    marginTop: 10,\n    fontStyle: 'italic'\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  modalContent: {\n    backgroundColor: colors.white,\n    borderRadius: 20,\n    padding: 30,\n    width: '90%',\n    maxWidth: 400\n  },\n  modalTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    textAlign: 'center',\n    marginBottom: 30\n  },\n  inputGroup: {\n    marginBottom: 20\n  },\n  inputLabel: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.deepNavy,\n    marginBottom: 8\n  },\n  input: {\n    height: 50,\n    backgroundColor: colors.cream,\n    borderRadius: 10,\n    paddingHorizontal: 15,\n    fontSize: 16,\n    color: colors.deepNavy,\n    borderWidth: 1,\n    borderColor: colors.beeYellow\n  },\n  modalActions: {\n    flexDirection: 'row',\n    marginTop: 20,\n    gap: 15\n  },\n  modalCancelButton: {\n    flex: 1,\n    backgroundColor: colors.lightGray,\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  modalCancelText: {\n    color: colors.deepNavy,\n    fontWeight: 'bold'\n  },\n  modalAddButton: {\n    flex: 1,\n    backgroundColor: colors.deepNavy,\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  modalAddText: {\n    color: colors.white,\n    fontWeight: 'bold'\n  },\n  channelIcon: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: colors.cream,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 15,\n    borderWidth: 2,\n    borderColor: colors.beeYellow\n  },\n  iconText: {\n    fontSize: 24\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","TextInput","ScrollView","Alert","Switch","Modal","collection","getDocs","addDoc","updateDoc","doc","serverTimestamp","getFirestore","getStorage","ref","uploadBytes","getDownloadURL","jsx","_jsx","jsxs","_jsxs","colors","beeYellow","honeyGold","darkYellow","deepNavy","charcoal","cream","white","warmGray","lightGray","success","danger","warning","TelegramChannelsManager","_useState","_useState2","_slicedToArray","channels","setChannels","_useState3","_useState4","loading","setLoading","_useState5","_useState6","showAddModal","setShowAddModal","_useState7","username","name","imageUrl","category","_useState8","newChannel","setNewChannel","_useState9","_useState0","selectedImage","setSelectedImage","_useState1","_useState10","uploading","setUploading","db","storage","loadChannels","uploadChannelImage","_ref","_asyncToGenerator","channelUsername","imageUri","response","fetch","blob","imageRef","downloadURL","error","console","_x","_x2","apply","arguments","selectImage","input","document","createElement","type","accept","onchange","e","_files","file","target","files","URL","createObjectURL","click","_ref2","channelsCollection","channelsSnapshot","channelsList","docs","map","_objectSpread","id","data","alert","addChannel","_ref3","trim","existingChannels","existingUsernames","cleanUsername","replace","includes","newChannelDoc","isActive","scrapingEnabled","totalJobsScraped","lastScraped","createdAt","updatedAt","triggerManualScrape","_ref4","activeChannels","filter","ch","length","text","style","onPress","_onPress","totalJobs","Math","floor","random","channel","channelRef","jobsFound","styles","container","children","title","headerActions","addButton","disabled","addButtonText","scrapeButton","scrapeButtonText","refreshButton","refreshButtonText","emptyState","emptyText","emptySubtext","channelCard","channelHeader","channelIcon","iconText","icon","channelInfo","channelName","channelTitle","channelMeta","channelControls","switchContainer","switchLabel","value","onValueChange","_ref5","updatedChannels","_x3","trackColor","false","true","thumbColor","_ref6","_x4","Date","toLocaleDateString","visible","animationType","transparent","onRequestClose","modalOverlay","modalContent","modalTitle","inputGroup","inputLabel","onChangeText","placeholder","placeholderTextColor","maxLength","modalActions","modalCancelButton","modalCancelText","modalAddButton","modalAddText","create","flex","padding","fontSize","fontWeight","color","marginBottom","flexDirection","gap","backgroundColor","paddingHorizontal","paddingVertical","borderRadius","textAlign","alignItems","justifyContent","lineHeight","borderLeftWidth","borderLeftColor","marginTop","fontStyle","width","maxWidth","height","borderWidth","borderColor","marginRight"],"sources":["/home/nathan/Documents/Workspace/NibJobs 2.0/mobile/src/components/TelegramChannelsManager.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  TextInput,\n  ScrollView,\n  Alert,\n  Switch,\n  Modal,\n  Image\n} from 'react-native';\nimport { collection, getDocs, addDoc, updateDoc, doc, serverTimestamp, getFirestore } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\n\nconst colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\n\ninterface TelegramChannel {\n  id: string;\n  username: string;\n  name: string;\n  imageUrl?: string;\n  category: string;\n  isActive: boolean;\n  scrapingEnabled: boolean;\n  totalJobsScraped: number;\n  lastScraped?: Date;\n}\n\ninterface TelegramChannelsResponse {\n  success: boolean;\n  channels?: TelegramChannel[];\n}\n\ninterface ScrapeResponse {\n  success: boolean;\n  totalJobs: number;\n  results: any[];\n}\n\nexport function TelegramChannelsManager() {\n  const [channels, setChannels] = useState<TelegramChannel[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [newChannel, setNewChannel] = useState({\n    username: '',\n    name: '',\n    imageUrl: '',\n    category: 'general'\n  });\n  const [selectedImage, setSelectedImage] = useState<string | null>(null);\n  const [uploading, setUploading] = useState(false);\n\n  const db = getFirestore();\n  const storage = getStorage();\n\n  // Load channels on component mount\n  useEffect(() => {\n    loadChannels();\n  }, []);\n\n  // Upload channel image to Firebase Storage\n  const uploadChannelImage = async (channelUsername: string, imageUri: string): Promise<string> => {\n    try {\n      // Convert image to blob for web\n      const response = await fetch(imageUri);\n      const blob = await response.blob();\n      \n      // Create storage reference\n      const imageRef = ref(storage, `telegram-channels/${channelUsername}/channel-image.jpg`);\n      \n      // Upload the file\n      await uploadBytes(imageRef, blob);\n      \n      // Get the download URL\n      const downloadURL = await getDownloadURL(imageRef);\n      return downloadURL;\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      throw error;\n    }\n  };\n\n  // Handle image selection (web-based file input)\n  const selectImage = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.onchange = (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0];\n      if (file) {\n        // Create object URL for preview\n        const imageUrl = URL.createObjectURL(file);\n        setSelectedImage(imageUrl);\n      }\n    };\n    input.click();\n  };\n\n  // Load channels from Firebase\n  const loadChannels = async () => {\n    setLoading(true);\n    try {\n      const channelsCollection = collection(db, 'telegramChannels');\n      const channelsSnapshot = await getDocs(channelsCollection);\n      \n      const channelsList: TelegramChannel[] = channelsSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      } as TelegramChannel));\n      \n      setChannels(channelsList);\n    } catch (error) {\n      console.error('Error loading channels:', error);\n      Alert.alert('Error', 'Failed to load Telegram channels');\n    }\n    setLoading(false);\n  };\n\n  // Add new channel\n  const addChannel = async () => {\n    if (!newChannel.username.trim() || !newChannel.name.trim()) {\n      Alert.alert('Error', 'Please fill in username and name');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Check if channel already exists\n      const channelsCollection = collection(db, 'telegramChannels');\n      const existingChannels = await getDocs(channelsCollection);\n      const existingUsernames = existingChannels.docs.map(doc => doc.data().username);\n      \n      const cleanUsername = newChannel.username.replace('@', '');\n      if (existingUsernames.includes(cleanUsername)) {\n        Alert.alert('Error', `Channel @${cleanUsername} already exists`);\n        setLoading(false);\n        return;\n      }\n\n      // Upload image if selected\n      let imageUrl = '';\n      if (selectedImage) {\n        setUploading(true);\n        try {\n          imageUrl = await uploadChannelImage(cleanUsername, selectedImage);\n        } catch (error) {\n          console.error('Error uploading image:', error);\n          Alert.alert('Warning', 'Channel added but image upload failed');\n        }\n        setUploading(false);\n      }\n\n      // Create new channel document\n      const newChannelDoc = {\n        username: cleanUsername,\n        name: newChannel.name,\n        imageUrl: imageUrl,\n        category: newChannel.category,\n        isActive: true,\n        scrapingEnabled: true,\n        totalJobsScraped: 0,\n        lastScraped: null,\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp()\n      };\n\n      await addDoc(channelsCollection, newChannelDoc);\n      \n      Alert.alert('Success', 'Channel added successfully!');\n      setNewChannel({ username: '', name: '', imageUrl: '', category: 'general' });\n      setSelectedImage(null);\n      setShowAddModal(false);\n      loadChannels(); // Refresh the list\n    } catch (error) {\n      console.error('Error adding channel:', error);\n      Alert.alert('Error', 'Failed to add channel');\n    }\n    setLoading(false);\n  };\n\n  // Trigger manual scraping\n  const triggerManualScrape = async () => {\n    const activeChannels = channels\n      .filter(ch => ch.isActive && ch.scrapingEnabled)\n      .map(ch => ch.username);\n\n    if (activeChannels.length === 0) {\n      Alert.alert('No Channels', 'No active channels available for scraping');\n      return;\n    }\n\n    Alert.alert(\n      'Manual Scraping',\n      `Start scraping ${activeChannels.length} active channels?\\n\\nNote: This is a simulation until Telegram bot is configured.`,\n      [\n        { text: 'Cancel', style: 'cancel' },\n        { \n          text: 'Start Scraping', \n          onPress: async () => {\n            setLoading(true);\n            try {\n              // Simulate scraping for now (replace with actual API call when ready)\n              const totalJobs = Math.floor(Math.random() * 50) + 10;\n              \n              // Update channel statistics\n              for (const channel of channels.filter(ch => ch.isActive && ch.scrapingEnabled)) {\n                const channelRef = doc(db, 'telegramChannels', channel.id);\n                const jobsFound = Math.floor(Math.random() * 10) + 1;\n                await updateDoc(channelRef, {\n                  totalJobsScraped: (channel.totalJobsScraped || 0) + jobsFound,\n                  lastScraped: serverTimestamp(),\n                  updatedAt: serverTimestamp()\n                });\n              }\n              \n              Alert.alert(\n                'Scraping Simulation Complete',\n                `Simulated scraping ${totalJobs} jobs from ${activeChannels.length} channels.\\n\\nConfigure Telegram bot token to enable real scraping.`\n              );\n              loadChannels(); // Refresh to show updated stats\n            } catch (error) {\n              console.error('Error during manual scraping:', error);\n              Alert.alert('Error', 'Manual scraping simulation failed');\n            }\n            setLoading(false);\n          }\n        }\n      ]\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>ðŸ“± Telegram Channels</Text>\n      \n      {/* Header Actions */}\n      <View style={styles.headerActions}>\n        <TouchableOpacity \n          style={styles.addButton} \n          onPress={() => setShowAddModal(true)}\n          disabled={loading}\n        >\n          <Text style={styles.addButtonText}>+ Add Channel</Text>\n        </TouchableOpacity>\n        \n        <TouchableOpacity \n          style={styles.scrapeButton} \n          onPress={triggerManualScrape}\n          disabled={loading}\n        >\n          <Text style={styles.scrapeButtonText}>\n            {loading ? 'ðŸ”„ Working...' : 'ðŸ¤– Manual Scrape'}\n          </Text>\n        </TouchableOpacity>\n        \n        <TouchableOpacity style={styles.refreshButton} onPress={loadChannels}>\n          <Text style={styles.refreshButtonText}>ðŸ”„ Refresh</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Channels List */}\n      <ScrollView style={styles.channelsList}>\n        {channels.length === 0 ? (\n          <View style={styles.emptyState}>\n            <Text style={styles.emptyText}>No channels configured</Text>\n            <Text style={styles.emptySubtext}>Add your first Telegram channel to start scraping jobs</Text>\n          </View>\n        ) : (\n          channels.map((channel) => (\n            <View key={channel.id} style={styles.channelCard}>\n              <View style={styles.channelHeader}>\n                <View style={styles.channelIcon}>\n                  <Text style={styles.iconText}>{channel.icon}</Text>\n                </View>\n                <View style={styles.channelInfo}>\n                  <Text style={styles.channelName}>@{channel.username}</Text>\n                  <Text style={styles.channelTitle}>{channel.name}</Text>\n                  <Text style={styles.channelMeta}>\n                    {channel.category} â€¢ {channel.totalJobsScraped} jobs scraped\n                  </Text>\n                </View>\n                \n                <View style={styles.channelControls}>\n                  <View style={styles.switchContainer}>\n                    <Text style={styles.switchLabel}>Active</Text>\n                    <Switch\n                      value={channel.isActive}\n                      onValueChange={async (value) => {\n                        // Update channel active status in Firestore\n                        try {\n                          const channelRef = doc(db, 'telegramChannels', channel.id);\n                          await updateDoc(channelRef, {\n                            isActive: value,\n                            updatedAt: serverTimestamp()\n                          });\n                          \n                          // Update local state\n                          const updatedChannels = channels.map(ch => \n                            ch.id === channel.id ? { ...ch, isActive: value } : ch\n                          );\n                          setChannels(updatedChannels);\n                        } catch (error) {\n                          console.error('Error updating channel active status:', error);\n                          Alert.alert('Error', 'Failed to update channel status');\n                        }\n                      }}\n                      trackColor={{ false: colors.lightGray, true: colors.success }}\n                      thumbColor={channel.isActive ? colors.white : colors.warmGray}\n                    />\n                  </View>\n                  \n                  <View style={styles.switchContainer}>\n                    <Text style={styles.switchLabel}>Scraping</Text>\n                    <Switch\n                      value={channel.scrapingEnabled}\n                      onValueChange={async (value) => {\n                        // Update channel scraping status in Firestore\n                        try {\n                          const channelRef = doc(db, 'telegramChannels', channel.id);\n                          await updateDoc(channelRef, {\n                            scrapingEnabled: value,\n                            updatedAt: serverTimestamp()\n                          });\n                          \n                          // Update local state\n                          const updatedChannels = channels.map(ch => \n                            ch.id === channel.id ? { ...ch, scrapingEnabled: value } : ch\n                          );\n                          setChannels(updatedChannels);\n                        } catch (error) {\n                          console.error('Error updating channel scraping status:', error);\n                          Alert.alert('Error', 'Failed to update scraping status');\n                        }\n                      }}\n                      trackColor={{ false: colors.lightGray, true: colors.beeYellow }}\n                      thumbColor={channel.scrapingEnabled ? colors.white : colors.warmGray}\n                    />\n                  </View>\n                </View>\n              </View>\n              \n              {channel.lastScraped && (\n                <Text style={styles.lastScraped}>\n                  Last scraped: {new Date(channel.lastScraped).toLocaleDateString()}\n                </Text>\n              )}\n            </View>\n          ))\n        )}\n      </ScrollView>\n\n      {/* Add Channel Modal */}\n      <Modal\n        visible={showAddModal}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setShowAddModal(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Add Telegram Channel</Text>\n            \n            <View style={styles.inputGroup}>\n              <Text style={styles.inputLabel}>Channel Username</Text>\n              <TextInput\n                style={styles.input}\n                value={newChannel.username}\n                onChangeText={(text) => setNewChannel({...newChannel, username: text.replace('@', '')})}\n                placeholder=\"e.g., jobsindubai\"\n                placeholderTextColor={colors.warmGray}\n              />\n            </View>\n            \n            <View style={styles.inputGroup}>\n              <Text style={styles.inputLabel}>Display Name</Text>\n              <TextInput\n                style={styles.input}\n                value={newChannel.name}\n                onChangeText={(text) => setNewChannel({...newChannel, name: text})}\n                placeholder=\"e.g., Jobs in Dubai\"\n                placeholderTextColor={colors.warmGray}\n              />\n            </View>\n            \n            <View style={styles.inputGroup}>\n              <Text style={styles.inputLabel}>Channel Icon</Text>\n              <TextInput\n                style={styles.input}\n                value={newChannel.icon}\n                onChangeText={(text) => setNewChannel({...newChannel, icon: text})}\n                placeholder=\"e.g., ðŸ’¼, ðŸ¢, ðŸŒŸ, ðŸ“±\"\n                placeholderTextColor={colors.warmGray}\n                maxLength={2}\n              />\n            </View>\n            \n            <View style={styles.inputGroup}>\n              <Text style={styles.inputLabel}>Category</Text>\n              <TextInput\n                style={styles.input}\n                value={newChannel.category}\n                onChangeText={(text) => setNewChannel({...newChannel, category: text})}\n                placeholder=\"e.g., technology, marketing, general\"\n                placeholderTextColor={colors.warmGray}\n              />\n            </View>\n            \n            <View style={styles.modalActions}>\n              <TouchableOpacity \n                style={styles.modalCancelButton} \n                onPress={() => setShowAddModal(false)}\n              >\n                <Text style={styles.modalCancelText}>Cancel</Text>\n              </TouchableOpacity>\n              \n              <TouchableOpacity \n                style={styles.modalAddButton} \n                onPress={addChannel}\n                disabled={loading}\n              >\n                <Text style={styles.modalAddText}>\n                  {loading ? 'Adding...' : 'Add Channel'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 20,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    marginBottom: 20,\n    gap: 10,\n  },\n  addButton: {\n    backgroundColor: colors.beeYellow,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 8,\n    flex: 1,\n  },\n  addButtonText: {\n    color: colors.deepNavy,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  scrapeButton: {\n    backgroundColor: colors.success,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 8,\n    flex: 1,\n  },\n  scrapeButtonText: {\n    color: colors.white,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  refreshButton: {\n    backgroundColor: colors.lightGray,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  refreshButtonText: {\n    color: colors.deepNavy,\n    fontWeight: 'bold',\n  },\n  channelsList: {\n    flex: 1,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60,\n  },\n  emptyText: {\n    fontSize: 18,\n    color: colors.warmGray,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  emptySubtext: {\n    fontSize: 14,\n    color: colors.warmGray,\n    textAlign: 'center',\n    lineHeight: 20,\n  },\n  channelCard: {\n    backgroundColor: colors.white,\n    padding: 20,\n    borderRadius: 12,\n    marginBottom: 15,\n    borderLeftWidth: 4,\n    borderLeftColor: colors.beeYellow,\n  },\n  channelHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  channelInfo: {\n    flex: 1,\n  },\n  channelName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 5,\n  },\n  channelTitle: {\n    fontSize: 16,\n    color: colors.charcoal,\n    marginBottom: 5,\n  },\n  channelMeta: {\n    fontSize: 12,\n    color: colors.warmGray,\n  },\n  channelControls: {\n    alignItems: 'flex-end',\n  },\n  switchContainer: {\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  switchLabel: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginBottom: 5,\n  },\n  lastScraped: {\n    fontSize: 12,\n    color: colors.success,\n    marginTop: 10,\n    fontStyle: 'italic',\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: colors.white,\n    borderRadius: 20,\n    padding: 30,\n    width: '90%',\n    maxWidth: 400,\n  },\n  modalTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    textAlign: 'center',\n    marginBottom: 30,\n  },\n  inputGroup: {\n    marginBottom: 20,\n  },\n  inputLabel: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.deepNavy,\n    marginBottom: 8,\n  },\n  input: {\n    height: 50,\n    backgroundColor: colors.cream,\n    borderRadius: 10,\n    paddingHorizontal: 15,\n    fontSize: 16,\n    color: colors.deepNavy,\n    borderWidth: 1,\n    borderColor: colors.beeYellow,\n  },\n  modalActions: {\n    flexDirection: 'row',\n    marginTop: 20,\n    gap: 15,\n  },\n  modalCancelButton: {\n    flex: 1,\n    backgroundColor: colors.lightGray,\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center',\n  },\n  modalCancelText: {\n    color: colors.deepNavy,\n    fontWeight: 'bold',\n  },\n  modalAddButton: {\n    flex: 1,\n    backgroundColor: colors.deepNavy,\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center',\n  },\n  modalAddText: {\n    color: colors.white,\n    fontWeight: 'bold',\n  },\n  channelIcon: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: colors.cream,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 15,\n    borderWidth: 2,\n    borderColor: colors.beeYellow,\n  },\n  iconText: {\n    fontSize: 24,\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}