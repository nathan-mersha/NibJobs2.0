{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { collection, getDocs, query, orderBy, writeBatch, doc, serverTimestamp } from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { db, functions } from \"../config/firebase\";\nimport TelegramChannelFormModal from \"../components/TelegramChannelFormModal\";\nimport TelegramChannelsList from \"../components/TelegramChannelsList\";\nimport { NibJobsIcon } from \"../assets\";\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\nexport default function TelegramChannelsScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    channels = _useState2[0],\n    setChannels = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    refreshing = _useState6[0],\n    setRefreshing = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showAddModal = _useState8[0],\n    setShowAddModal = _useState8[1];\n  var _useState9 = useState('idle'),\n    _useState0 = _slicedToArray(_useState9, 2),\n    scrapingStatus = _useState0[0],\n    setScrapingStatus = _useState0[1];\n  var _useState1 = useState(0),\n    _useState10 = _slicedToArray(_useState1, 2),\n    scrapingProgress = _useState10[0],\n    setScrapingProgress = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    scrapingMessage = _useState12[0],\n    setScrapingMessage = _useState12[1];\n  var manualScrapeChannels = httpsCallable(functions, 'runTelegramScrapingNow');\n  var loadChannels = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var channelsQuery = query(collection(db, 'telegramChannels'), orderBy('createdAt', 'desc'));\n        var channelsSnapshot = yield getDocs(channelsQuery);\n        var channelsList = channelsSnapshot.docs.map(function (doc) {\n          return _objectSpread({\n            id: doc.id\n          }, doc.data());\n        });\n        setChannels(channelsList);\n      } catch (error) {\n        console.error('Error loading channels:', error);\n      } finally {\n        setLoading(false);\n        setRefreshing(false);\n      }\n    });\n    return function loadChannels() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleRefresh = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setRefreshing(true);\n      yield loadChannels();\n    });\n    return function handleRefresh() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleManualScrape = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      setScrapingStatus('scraping');\n      setScrapingProgress(0);\n      setScrapingMessage('Starting manual scraping...');\n      try {\n        var progressInterval = setInterval(function () {\n          setScrapingProgress(function (prev) {\n            if (prev >= 90) {\n              clearInterval(progressInterval);\n              return 90;\n            }\n            return prev + 10;\n          });\n        }, 1000);\n        setScrapingMessage('Scraping all active channels for new jobs...');\n        var result = yield manualScrapeChannels();\n        console.log('ðŸ“Š Scraping result:', result);\n        clearInterval(progressInterval);\n        setScrapingProgress(100);\n        var data = result.data;\n        if (data != null && data.success) {\n          var _data$errors;\n          setScrapingMessage(`âœ… Scraped ${data.channelsProcessed} channels, found ${data.totalJobsExtracted} jobs!`);\n          Alert.alert('Scraping Complete! ðŸŽ‰', `Processed: ${data.channelsProcessed} channels\\nJobs found: ${data.totalJobsExtracted}\\nMessages processed: ${data.totalMessagesProcessed}${data.channelDetails ? `\\n\\nChannels processed:\\n${data.channelDetails.join('\\n')}` : ''}${(_data$errors = data.errors) != null && _data$errors.length ? `\\n\\nâŒ Errors: ${data.errors.length}` : ''}`, [{\n            text: 'OK'\n          }]);\n        } else {\n          setScrapingMessage('âŒ Scraping failed - check console for details');\n          Alert.alert('Scraping Failed', 'The scraping process failed. Please check the Firebase console logs for details.', [{\n            text: 'OK'\n          }]);\n        }\n        setScrapingStatus('completed');\n        loadChannels();\n        setTimeout(function () {\n          setScrapingStatus('idle');\n          setScrapingProgress(0);\n          setScrapingMessage('');\n        }, 5000);\n        yield loadChannels();\n        Alert.alert('Scraping Completed', 'Manual scraping completed successfully!', [{\n          text: 'OK'\n        }]);\n      } catch (error) {\n        console.error('Manual scraping failed:', error);\n        setScrapingStatus('error');\n        setScrapingMessage('Scraping failed. Please try again.');\n        setTimeout(function () {\n          setScrapingStatus('idle');\n          setScrapingProgress(0);\n          setScrapingMessage('');\n        }, 3000);\n        Alert.alert('Scraping Failed', 'Failed to perform manual scraping. Please try again.', [{\n          text: 'OK'\n        }]);\n      }\n    });\n    return function handleManualScrape() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleChannelAdded = function handleChannelAdded() {\n    loadChannels();\n  };\n  var handleChannelsUpdate = function handleChannelsUpdate() {\n    loadChannels();\n  };\n  var enableAllChannelsForScraping = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        var batch = writeBatch(db);\n        var updatedCount = 0;\n        for (var channel of channels) {\n          if (!channel.isActive || !channel.scrapingEnabled) {\n            var channelRef = doc(db, 'telegramChannels', channel.id);\n            batch.update(channelRef, {\n              isActive: true,\n              scrapingEnabled: true,\n              updatedAt: serverTimestamp()\n            });\n            updatedCount++;\n          }\n        }\n        if (updatedCount > 0) {\n          yield batch.commit();\n          Alert.alert('Channels Updated! âœ…', `${updatedCount} channels have been enabled for scraping.`, [{\n            text: 'OK'\n          }]);\n          loadChannels();\n        } else {\n          Alert.alert('All Set! ðŸ‘', 'All channels are already enabled for scraping.', [{\n            text: 'OK'\n          }]);\n        }\n      } catch (error) {\n        console.error('Error enabling channels:', error);\n        Alert.alert('Error', 'Failed to update channel settings. Please try again.', [{\n          text: 'OK'\n        }]);\n      }\n    });\n    return function enableAllChannelsForScraping() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    loadChannels();\n  }, []);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(View, {\n        style: styles.headerContent,\n        children: [_jsx(Image, {\n          source: NibJobsIcon,\n          style: styles.headerIcon\n        }), _jsxs(View, {\n          style: styles.headerText,\n          children: [_jsx(Text, {\n            style: styles.headerTitle,\n            children: \"Telegram Channels\"\n          }), _jsx(Text, {\n            style: styles.headerSubtitle,\n            children: \"Manage job scraping sources\"\n          })]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.addButton,\n        onPress: function onPress() {\n          return setShowAddModal(true);\n        },\n        children: _jsx(Text, {\n          style: styles.addButtonText,\n          children: \"+ Add Channel\"\n        })\n      })]\n    }), _jsxs(ScrollView, {\n      style: styles.content,\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: handleRefresh,\n        colors: [colors.beeYellow],\n        tintColor: colors.beeYellow\n      }),\n      children: [_jsxs(View, {\n        style: styles.overviewSection,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"\\uD83D\\uDCCA Overview\"\n        }), _jsxs(View, {\n          style: styles.overviewCards,\n          children: [_jsxs(View, {\n            style: styles.overviewCard,\n            children: [_jsx(Text, {\n              style: styles.overviewValue,\n              children: channels.length\n            }), _jsx(Text, {\n              style: styles.overviewLabel,\n              children: \"Total Channels\"\n            })]\n          }), _jsxs(View, {\n            style: styles.overviewCard,\n            children: [_jsx(Text, {\n              style: styles.overviewValue,\n              children: channels.filter(function (c) {\n                return c.isActive && c.scrapingEnabled;\n              }).length\n            }), _jsx(Text, {\n              style: styles.overviewLabel,\n              children: \"Active Channels\"\n            })]\n          }), _jsxs(View, {\n            style: styles.overviewCard,\n            children: [_jsx(Text, {\n              style: styles.overviewValue,\n              children: channels.reduce(function (total, ch) {\n                return total + ch.totalJobsScraped;\n              }, 0)\n            }), _jsx(Text, {\n              style: styles.overviewLabel,\n              children: \"Total Jobs\"\n            })]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.quickActionsSection,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"\\u26A1 Quick Actions\"\n        }), _jsxs(View, {\n          style: styles.quickActions,\n          children: [_jsxs(TouchableOpacity, {\n            style: styles.quickActionButton,\n            onPress: function onPress() {\n              return setShowAddModal(true);\n            },\n            children: [_jsx(Icon, {\n              name: \"add\",\n              size: 24,\n              color: colors.beeYellow\n            }), _jsx(Text, {\n              style: styles.quickActionText,\n              children: \"Add Channel\"\n            })]\n          }), _jsxs(TouchableOpacity, {\n            style: styles.quickActionButton,\n            onPress: handleRefresh,\n            children: [_jsx(Icon, {\n              name: \"refresh\",\n              size: 24,\n              color: colors.beeYellow\n            }), _jsx(Text, {\n              style: styles.quickActionText,\n              children: \"Refresh List\"\n            })]\n          }), _jsxs(TouchableOpacity, {\n            style: [styles.quickActionButton, scrapingStatus === 'scraping' && styles.quickActionButtonDisabled],\n            onPress: scrapingStatus === 'idle' ? handleManualScrape : undefined,\n            disabled: scrapingStatus === 'scraping',\n            children: [scrapingStatus === 'scraping' ? _jsx(ActivityIndicator, {\n              size: \"small\",\n              color: colors.beeYellow\n            }) : _jsx(Icon, {\n              name: \"rocket-launch\",\n              size: 24,\n              color: colors.beeYellow\n            }), _jsx(Text, {\n              style: styles.quickActionText,\n              children: scrapingStatus === 'scraping' ? 'Scraping...' : 'Manual Scrape'\n            })]\n          }), _jsxs(TouchableOpacity, {\n            style: styles.quickActionButton,\n            onPress: enableAllChannelsForScraping,\n            children: [_jsx(Icon, {\n              name: \"check-circle\",\n              size: 24,\n              color: colors.success\n            }), _jsx(Text, {\n              style: styles.quickActionText,\n              children: \"Enable All Scraping\"\n            })]\n          })]\n        })]\n      }), scrapingStatus !== 'idle' && _jsxs(View, {\n        style: styles.progressSection,\n        children: [_jsx(Text, {\n          style: styles.progressTitle,\n          children: \"Scraping Status\"\n        }), _jsx(View, {\n          style: styles.progressContainer,\n          children: _jsx(View, {\n            style: [styles.progressBar, {\n              width: `${scrapingProgress}%`\n            }]\n          })\n        }), _jsx(Text, {\n          style: styles.progressMessage,\n          children: scrapingMessage\n        }), scrapingProgress > 0 && _jsxs(Text, {\n          style: styles.progressPercent,\n          children: [scrapingProgress, \"%\"]\n        })]\n      }), _jsx(View, {\n        style: styles.channelsSection,\n        children: _jsx(TelegramChannelsList, {\n          channels: channels,\n          onChannelsUpdate: handleChannelsUpdate,\n          loading: loading\n        })\n      })]\n    }), _jsx(TelegramChannelFormModal, {\n      visible: showAddModal,\n      onClose: function onClose() {\n        return setShowAddModal(false);\n      },\n      onChannelAdded: handleChannelAdded\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cream\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    backgroundColor: colors.white,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.lightGray\n  },\n  headerContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1\n  },\n  headerIcon: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    marginRight: 12\n  },\n  headerText: {\n    flex: 1\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginTop: 2\n  },\n  addButton: {\n    backgroundColor: colors.beeYellow,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderRadius: 8\n  },\n  addButtonText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.deepNavy\n  },\n  content: {\n    flex: 1,\n    padding: 20\n  },\n  overviewSection: {\n    marginBottom: 24\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: colors.deepNavy,\n    marginBottom: 12\n  },\n  overviewCards: {\n    flexDirection: 'row',\n    gap: 12\n  },\n  overviewCard: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: colors.lightGray\n  },\n  overviewValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy\n  },\n  overviewLabel: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginTop: 4,\n    textAlign: 'center'\n  },\n  quickActionsSection: {\n    marginBottom: 24\n  },\n  quickActions: {\n    flexDirection: 'row',\n    gap: 12\n  },\n  quickActionButton: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: colors.lightGray\n  },\n  quickActionButtonDisabled: {\n    opacity: 0.6,\n    backgroundColor: colors.lightGray\n  },\n  quickActionIcon: {\n    fontSize: 20,\n    marginBottom: 8\n  },\n  quickActionText: {\n    fontSize: 12,\n    fontWeight: '500',\n    color: colors.charcoal,\n    textAlign: 'center'\n  },\n  progressSection: {\n    backgroundColor: colors.white,\n    padding: 16,\n    marginBottom: 24,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: colors.lightGray\n  },\n  progressTitle: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.charcoal,\n    marginBottom: 12\n  },\n  progressContainer: {\n    height: 6,\n    backgroundColor: colors.lightGray,\n    borderRadius: 3,\n    overflow: 'hidden',\n    marginBottom: 8\n  },\n  progressBar: {\n    height: '100%',\n    backgroundColor: colors.beeYellow,\n    borderRadius: 3\n  },\n  progressMessage: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginBottom: 4\n  },\n  progressPercent: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: colors.charcoal,\n    textAlign: 'right'\n  },\n  channelsSection: {\n    marginBottom: 24\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","TouchableOpacity","SafeAreaView","RefreshControl","Alert","ActivityIndicator","Image","collection","getDocs","query","orderBy","writeBatch","doc","serverTimestamp","httpsCallable","db","functions","TelegramChannelFormModal","TelegramChannelsList","NibJobsIcon","Icon","jsx","_jsx","jsxs","_jsxs","colors","beeYellow","honeyGold","darkYellow","deepNavy","charcoal","cream","white","warmGray","lightGray","success","danger","warning","TelegramChannelsScreen","_useState","_useState2","_slicedToArray","channels","setChannels","_useState3","_useState4","loading","setLoading","_useState5","_useState6","refreshing","setRefreshing","_useState7","_useState8","showAddModal","setShowAddModal","_useState9","_useState0","scrapingStatus","setScrapingStatus","_useState1","_useState10","scrapingProgress","setScrapingProgress","_useState11","_useState12","scrapingMessage","setScrapingMessage","manualScrapeChannels","loadChannels","_ref","_asyncToGenerator","channelsQuery","channelsSnapshot","channelsList","docs","map","_objectSpread","id","data","error","console","apply","arguments","handleRefresh","_ref2","handleManualScrape","_ref3","progressInterval","setInterval","prev","clearInterval","result","log","_data$errors","channelsProcessed","totalJobsExtracted","alert","totalMessagesProcessed","channelDetails","join","errors","length","text","setTimeout","handleChannelAdded","handleChannelsUpdate","enableAllChannelsForScraping","_ref4","batch","updatedCount","channel","isActive","scrapingEnabled","channelRef","update","updatedAt","commit","style","styles","container","children","header","headerContent","source","headerIcon","headerText","headerTitle","headerSubtitle","addButton","onPress","addButtonText","content","refreshControl","onRefresh","tintColor","overviewSection","sectionTitle","overviewCards","overviewCard","overviewValue","overviewLabel","filter","c","reduce","total","ch","totalJobsScraped","quickActionsSection","quickActions","quickActionButton","name","size","color","quickActionText","quickActionButtonDisabled","undefined","disabled","progressSection","progressTitle","progressContainer","progressBar","width","progressMessage","progressPercent","channelsSection","onChannelsUpdate","visible","onClose","onChannelAdded","create","flex","backgroundColor","flexDirection","justifyContent","alignItems","padding","borderBottomWidth","borderBottomColor","height","borderRadius","marginRight","fontSize","fontWeight","marginTop","paddingHorizontal","paddingVertical","marginBottom","gap","borderWidth","borderColor","textAlign","opacity","quickActionIcon","overflow"],"sources":["/home/nathan/Documents/Workspace/NibJobs 2.0/mobile/src/screens/TelegramChannelsScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  SafeAreaView,\n  RefreshControl,\n  Alert,\n  ActivityIndicator,\n  Image,\n} from 'react-native';\nimport { collection, getDocs, query, orderBy, writeBatch, doc, serverTimestamp } from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { db, functions } from '../config/firebase';\nimport TelegramChannelFormModal from '../components/TelegramChannelFormModal';\nimport TelegramChannelsList from '../components/TelegramChannelsList';\nimport { NibJobsIcon } from '../assets';\nimport Icon from 'react-native-vector-icons/MaterialIcons';\n\nconst colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\n\ninterface TelegramChannel {\n  id: string;\n  username: string;\n  name: string;\n  imageUrl?: string;\n  category: string;\n  isActive: boolean;\n  scrapingEnabled: boolean;\n  totalJobsScraped: number;\n  lastScraped: any | null;\n  createdAt: any;\n  updatedAt: any;\n}\n\nexport default function TelegramChannelsScreen() {\n  const [channels, setChannels] = useState<TelegramChannel[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [scrapingStatus, setScrapingStatus] = useState<'idle' | 'scraping' | 'completed' | 'error'>('idle');\n  const [scrapingProgress, setScrapingProgress] = useState(0);\n  const [scrapingMessage, setScrapingMessage] = useState('');\n\n  const manualScrapeChannels = httpsCallable(functions, 'runTelegramScrapingNow');\n\n  const loadChannels = async () => {\n    try {\n      const channelsQuery = query(\n        collection(db, 'telegramChannels'),\n        orderBy('createdAt', 'desc')\n      );\n      \n      const channelsSnapshot = await getDocs(channelsQuery);\n      const channelsList: TelegramChannel[] = channelsSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      } as TelegramChannel));\n      \n      setChannels(channelsList);\n    } catch (error) {\n      console.error('Error loading channels:', error);\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    await loadChannels();\n  };\n\n  const handleManualScrape = async () => {\n    setScrapingStatus('scraping');\n    setScrapingProgress(0);\n    setScrapingMessage('Starting manual scraping...');\n\n    try {\n      // Simulate progress updates\n      const progressInterval = setInterval(() => {\n        setScrapingProgress(prev => {\n          if (prev >= 90) {\n            clearInterval(progressInterval);\n            return 90;\n          }\n          return prev + 10;\n        });\n      }, 1000);\n\n      setScrapingMessage('Scraping all active channels for new jobs...');\n      \n      const result = await manualScrapeChannels();\n      console.log('ðŸ“Š Scraping result:', result);\n      \n      clearInterval(progressInterval);\n      setScrapingProgress(100);\n      \n      const data = result.data as any;\n      if (data?.success) {\n        setScrapingMessage(`âœ… Scraped ${data.channelsProcessed} channels, found ${data.totalJobsExtracted} jobs!`);\n        \n        // Show detailed results\n        Alert.alert(\n          'Scraping Complete! ðŸŽ‰',\n          `Processed: ${data.channelsProcessed} channels\\nJobs found: ${data.totalJobsExtracted}\\nMessages processed: ${data.totalMessagesProcessed}${data.channelDetails ? `\\n\\nChannels processed:\\n${data.channelDetails.join('\\n')}` : ''}${data.errors?.length ? `\\n\\nâŒ Errors: ${data.errors.length}` : ''}`,\n          [{ text: 'OK' }]\n        );\n      } else {\n        setScrapingMessage('âŒ Scraping failed - check console for details');\n        Alert.alert(\n          'Scraping Failed',\n          'The scraping process failed. Please check the Firebase console logs for details.',\n          [{ text: 'OK' }]\n        );\n      }\n      setScrapingStatus('completed');\n      \n      \n      // Refresh channels to show updated stats\n      loadChannels();\n      \n      // Reset status after 5 seconds\n      setTimeout(() => {\n        setScrapingStatus('idle');\n        setScrapingProgress(0);\n        setScrapingMessage('');\n      }, 5000);\n\n      // Refresh channels data\n      await loadChannels();\n\n      Alert.alert(\n        'Scraping Completed',\n        'Manual scraping completed successfully!',\n        [{ text: 'OK' }]\n      );\n\n    } catch (error) {\n      console.error('Manual scraping failed:', error);\n      setScrapingStatus('error');\n      setScrapingMessage('Scraping failed. Please try again.');\n      \n      setTimeout(() => {\n        setScrapingStatus('idle');\n        setScrapingProgress(0);\n        setScrapingMessage('');\n      }, 3000);\n\n      Alert.alert(\n        'Scraping Failed',\n        'Failed to perform manual scraping. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  const handleChannelAdded = () => {\n    loadChannels();\n  };\n\n  const handleChannelsUpdate = () => {\n    loadChannels();\n  };\n\n  const enableAllChannelsForScraping = async () => {\n    try {\n      const batch = writeBatch(db);\n      let updatedCount = 0;\n\n      for (const channel of channels) {\n        if (!channel.isActive || !channel.scrapingEnabled) {\n          const channelRef = doc(db, 'telegramChannels', channel.id);\n          batch.update(channelRef, {\n            isActive: true,\n            scrapingEnabled: true,\n            updatedAt: serverTimestamp()\n          });\n          updatedCount++;\n        }\n      }\n\n      if (updatedCount > 0) {\n        await batch.commit();\n        Alert.alert(\n          'Channels Updated! âœ…',\n          `${updatedCount} channels have been enabled for scraping.`,\n          [{ text: 'OK' }]\n        );\n        loadChannels();\n      } else {\n        Alert.alert(\n          'All Set! ðŸ‘',\n          'All channels are already enabled for scraping.',\n          [{ text: 'OK' }]\n        );\n      }\n    } catch (error) {\n      console.error('Error enabling channels:', error);\n      Alert.alert(\n        'Error',\n        'Failed to update channel settings. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  useEffect(() => {\n    loadChannels();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {/* Header */}\n      <View style={styles.header}>\n        <View style={styles.headerContent}>\n          <Image source={NibJobsIcon} style={styles.headerIcon} />\n          <View style={styles.headerText}>\n            <Text style={styles.headerTitle}>Telegram Channels</Text>\n            <Text style={styles.headerSubtitle}>\n              Manage job scraping sources\n            </Text>\n          </View>\n        </View>\n        <TouchableOpacity \n          style={styles.addButton}\n          onPress={() => setShowAddModal(true)}\n        >\n          <Text style={styles.addButtonText}>+ Add Channel</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Main Content */}\n      <ScrollView \n        style={styles.content}\n        refreshControl={\n          <RefreshControl\n            refreshing={refreshing}\n            onRefresh={handleRefresh}\n            colors={[colors.beeYellow]}\n            tintColor={colors.beeYellow}\n          />\n        }\n      >\n        {/* Overview Cards */}\n        <View style={styles.overviewSection}>\n          <Text style={styles.sectionTitle}>ðŸ“Š Overview</Text>\n          <View style={styles.overviewCards}>\n            <View style={styles.overviewCard}>\n              <Text style={styles.overviewValue}>{channels.length}</Text>\n              <Text style={styles.overviewLabel}>Total Channels</Text>\n            </View>\n            <View style={styles.overviewCard}>\n              <Text style={styles.overviewValue}>\n                {channels.filter(c => c.isActive && c.scrapingEnabled).length}\n              </Text>\n              <Text style={styles.overviewLabel}>Active Channels</Text>\n            </View>\n            <View style={styles.overviewCard}>\n              <Text style={styles.overviewValue}>\n                {channels.reduce((total, ch) => total + ch.totalJobsScraped, 0)}\n              </Text>\n              <Text style={styles.overviewLabel}>Total Jobs</Text>\n            </View>\n          </View>\n        </View>\n\n        {/* Quick Actions */}\n        <View style={styles.quickActionsSection}>\n          <Text style={styles.sectionTitle}>âš¡ Quick Actions</Text>\n          <View style={styles.quickActions}>\n            <TouchableOpacity \n              style={styles.quickActionButton}\n              onPress={() => setShowAddModal(true)}\n            >\n              <Icon name=\"add\" size={24} color={colors.beeYellow} />\n              <Text style={styles.quickActionText}>Add Channel</Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity \n              style={styles.quickActionButton}\n              onPress={handleRefresh}\n            >\n              <Icon name=\"refresh\" size={24} color={colors.beeYellow} />\n              <Text style={styles.quickActionText}>Refresh List</Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity \n              style={[\n                styles.quickActionButton,\n                scrapingStatus === 'scraping' && styles.quickActionButtonDisabled\n              ]}\n              onPress={scrapingStatus === 'idle' ? handleManualScrape : undefined}\n              disabled={scrapingStatus === 'scraping'}\n            >\n              {scrapingStatus === 'scraping' ? (\n                <ActivityIndicator size=\"small\" color={colors.beeYellow} />\n              ) : (\n                <Icon name=\"rocket-launch\" size={24} color={colors.beeYellow} />\n              )}\n              <Text style={styles.quickActionText}>\n                {scrapingStatus === 'scraping' ? 'Scraping...' : 'Manual Scrape'}\n              </Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity \n              style={styles.quickActionButton}\n              onPress={enableAllChannelsForScraping}\n            >\n              <Icon name=\"check-circle\" size={24} color={colors.success} />\n              <Text style={styles.quickActionText}>Enable All Scraping</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        {/* Scraping Progress Status */}\n        {scrapingStatus !== 'idle' && (\n          <View style={styles.progressSection}>\n            <Text style={styles.progressTitle}>Scraping Status</Text>\n            <View style={styles.progressContainer}>\n              <View style={[styles.progressBar, { width: `${scrapingProgress}%` }]} />\n            </View>\n            <Text style={styles.progressMessage}>{scrapingMessage}</Text>\n            {scrapingProgress > 0 && (\n              <Text style={styles.progressPercent}>{scrapingProgress}%</Text>\n            )}\n          </View>\n        )}\n\n        {/* Channels List */}\n        <View style={styles.channelsSection}>\n          <TelegramChannelsList\n            channels={channels}\n            onChannelsUpdate={handleChannelsUpdate}\n            loading={loading}\n          />\n        </View>\n      </ScrollView>\n\n      {/* Add Channel Modal */}\n      <TelegramChannelFormModal\n        visible={showAddModal}\n        onClose={() => setShowAddModal(false)}\n        onChannelAdded={handleChannelAdded}\n      />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cream,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    backgroundColor: colors.white,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.lightGray,\n  },\n  headerContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  headerIcon: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    marginRight: 12,\n  },\n  headerText: {\n    flex: 1,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginTop: 2,\n  },\n  addButton: {\n    backgroundColor: colors.beeYellow,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  addButtonText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.deepNavy,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n  },\n  overviewSection: {\n    marginBottom: 24,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: colors.deepNavy,\n    marginBottom: 12,\n  },\n  overviewCards: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  overviewCard: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: colors.lightGray,\n  },\n  overviewValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n  },\n  overviewLabel: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginTop: 4,\n    textAlign: 'center',\n  },\n  quickActionsSection: {\n    marginBottom: 24,\n  },\n  quickActions: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  quickActionButton: {\n    flex: 1,\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: colors.lightGray,\n  },\n  quickActionButtonDisabled: {\n    opacity: 0.6,\n    backgroundColor: colors.lightGray,\n  },\n  quickActionIcon: {\n    fontSize: 20,\n    marginBottom: 8,\n  },\n  quickActionText: {\n    fontSize: 12,\n    fontWeight: '500',\n    color: colors.charcoal,\n    textAlign: 'center',\n  },\n  progressSection: {\n    backgroundColor: colors.white,\n    padding: 16,\n    marginBottom: 24,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: colors.lightGray,\n  },\n  progressTitle: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: colors.charcoal,\n    marginBottom: 12,\n  },\n  progressContainer: {\n    height: 6,\n    backgroundColor: colors.lightGray,\n    borderRadius: 3,\n    overflow: 'hidden',\n    marginBottom: 8,\n  },\n  progressBar: {\n    height: '100%',\n    backgroundColor: colors.beeYellow,\n    borderRadius: 3,\n  },\n  progressMessage: {\n    fontSize: 12,\n    color: colors.warmGray,\n    marginBottom: 4,\n  },\n  progressPercent: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: colors.charcoal,\n    textAlign: 'right',\n  },\n  channelsSection: {\n    marginBottom: 24,\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}