{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Alert from\"react-native-web/dist/exports/Alert\";import{collection,getDocs}from'firebase/firestore';import{httpsCallable}from'firebase/functions';import{db,functions}from\"../config/firebase\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";var colors={beeYellow:'#F4C430',honeyGold:'#D4AF37',darkYellow:'#B8860B',deepNavy:'#1A1B3E',charcoal:'#2C2C2C',cream:'#FFF9E6',white:'#FFFFFF',warmGray:'#6B6B6B',lightGray:'#F5F5F5',success:'#27AE60',danger:'#E74C3C',warning:'#F39C12'};export default function TelegramChannelsManager(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),channels=_useState2[0],setChannels=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(new Date()),_useState6=_slicedToArray(_useState5,2),lastUpdate=_useState6[0],setLastUpdate=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),scrapingLogs=_useState8[0],setScrapingLogs=_useState8[1];var _useState9=useState({isRunning:false,currentStep:'',progress:0}),_useState0=_slicedToArray(_useState9,2),scrapingStatus=_useState0[0],setScrapingStatus=_useState0[1];var loadChannels=function(){var _ref=_asyncToGenerator(function*(){try{setLoading(true);var channelsSnapshot=yield getDocs(collection(db,'telegramChannels'));var channelsData=channelsSnapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setChannels(channelsData);setLastUpdate(new Date());}catch(error){console.error('Error loading channels:',error);Alert.alert('Error','Failed to load telegram channels');}finally{setLoading(false);}});return function loadChannels(){return _ref.apply(this,arguments);};}();useEffect(function(){loadChannels();},[]);var addLog=function addLog(message){var timestamp=new Date().toLocaleTimeString();var logMessage=`[${timestamp}] ${message}`;setScrapingLogs(function(prev){return[].concat(_toConsumableArray(prev.slice(-20)),[logMessage]);});console.log(logMessage);};var updateStatus=function updateStatus(step){var progress=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;setScrapingStatus(function(prev){return _objectSpread(_objectSpread({},prev),{},{currentStep:step,progress:progress,lastActivity:new Date()});});addLog(step);};var handleManualTrigger=function(){var _ref2=_asyncToGenerator(function*(){Alert.alert('Run Scraping Now üöÄ',`This will immediately run the Telegram scraping function using your authentication credentials.\\n\\nIt will:\\n‚Ä¢ Connect to Telegram with your account\\n‚Ä¢ Process all ${channels.filter(function(c){return c.isActive&&c.scrapingEnabled;}).length} active channels\\n‚Ä¢ Extract jobs using OpenAI\\n‚Ä¢ Save results to Firestore\\n\\nThis may take 2-5 minutes depending on the number of channels.`,[{text:'Cancel',style:'cancel'},{text:'Run Now',onPress:function(){var _onPress=_asyncToGenerator(function*(){setLoading(true);setScrapingLogs([]);setScrapingStatus({isRunning:true,currentStep:'Initializing...',progress:0,startTime:new Date()});try{addLog('üöÄ Starting manual Telegram scraping...');updateStatus('üìã Connecting to Firebase Functions...',10);console.log('üîç DEBUG: Creating Firebase function callable...');console.log('üîç DEBUG: Functions object:',functions);var runScrapingNow=httpsCallable(functions,'runTelegramScrapingNow');console.log('üîç DEBUG: Function callable created:',runScrapingNow);updateStatus('üîê Authenticating with Telegram...',20);addLog('üì° Sending request to cloud function...');console.log('üîç DEBUG: About to call function...');console.log('üîç DEBUG: Calling function now...');var result=yield runScrapingNow();console.log('üîç DEBUG: Function call completed');updateStatus('‚úÖ Function executed successfully',90);addLog('üìä Processing response...');console.log('üìä Manual scraping result:',result);var data=result.data;if(data.success){updateStatus(`üéâ Complete! Extracted ${data.totalJobs} jobs`,100);addLog(`‚úÖ Processed ${data.totalChannels} channels`);addLog(`üì• Analyzed ${data.totalMessages} messages`);addLog(`üéØ Extracted ${data.totalJobs} jobs`);addLog('üíæ Jobs saved to Firestore database');Alert.alert('Scraping Complete! üéâ',`‚úÖ Successfully processed ${data.totalChannels} channels\\nüì• Analyzed ${data.totalMessages} messages\\nüéØ Extracted ${data.totalJobs} jobs\\n\\nüíæ Check Firestore jobs collection for results!`,[{text:'View Details',onPress:function onPress(){console.log('üìã Detailed scraping results:');console.log(`Total Channels: ${data.totalChannels}`);console.log(`Total Messages: ${data.totalMessages}`);console.log(`Total Jobs: ${data.totalJobs}`);console.log('Channel Results:');data.channelResults.forEach(function(channel,index){if(channel.error){console.log(`${index+1}. @${channel.username}: ERROR - ${channel.error}`);}else{console.log(`${index+1}. @${channel.username}: ${channel.jobsExtracted} jobs from ${channel.messagesProcessed} messages`);}});console.log('\\nüîó View jobs: https://console.firebase.google.com/project/nibjobs-dev/firestore/data/~2Fjobs');}},{text:'OK'}]);setTimeout(function(){loadChannels();},2000);}else{updateStatus('‚ùå Scraping failed',0);addLog(`‚ùå Error: ${data.error}`);addLog('üîç Check Firebase logs for details');Alert.alert('Scraping Failed ‚ùå',`Error: ${data.error}\\n\\nCheck Firebase Functions logs for more details.`,[{text:'View Logs',onPress:function onPress(){console.log('ÔøΩ View Firebase logs: https://console.firebase.google.com/project/nibjobs-dev/functions/logs');console.log('üîç Search for \"runTelegramScrapingNow\" in the logs');}},{text:'OK'}]);}}catch(error){console.error('üîç DEBUG: Function call failed:',error);if(error instanceof Error){console.error('üîç DEBUG: Error details:',error.message);console.error('üîç DEBUG: Error stack:',error.stack);}updateStatus('üí• Function error occurred',0);addLog(`üí• Error: ${error}`);addLog('üîç Check browser console for details');console.error('üí• Manual scraping error:',error);Alert.alert('Function Error',`Failed to execute scraping function:\\n\\n${error}\\n\\nThis might be due to:\\n‚Ä¢ Missing environment variables\\n‚Ä¢ Telegram authentication issues\\n‚Ä¢ Network problems`,[{text:'View Console',onPress:function onPress(){console.log('üîç Check browser console (F12) for detailed error information');console.log('üìä Check Firebase logs: https://console.firebase.google.com/project/nibjobs-dev/functions/logs');}},{text:'OK'}]);}finally{setLoading(false);setScrapingStatus(function(prev){return _objectSpread(_objectSpread({},prev),{},{isRunning:false});});addLog('üèÅ Scraping session ended');}});function onPress(){return _onPress.apply(this,arguments);}return onPress;}()}]);});return function handleManualTrigger(){return _ref2.apply(this,arguments);};}();var handleScheduledScraping=function(){var _ref3=_asyncToGenerator(function*(){Alert.alert('Scheduled Telegram Scraping','This function runs automatically at 9 AM UTC daily. It:\\n\\nüîê Uses your Telegram user credentials\\nüìã Queries all active channels\\nüì• Fetches latest 10 messages per channel\\nü§ñ Uses OpenAI for job extraction\\nüíæ Saves jobs to Firestore\\nüö´ Avoids duplicates',[{text:'View Implementation',onPress:function onPress(){console.log('üîç Function Implementation Details:');console.log('1. üîê Telegram Authentication: Uses TELEGRAM_SESSION_STRING, API_ID, API_HASH');console.log('2. üìã Channel Query: WHERE isActive==true AND scrapingEnabled==true');console.log('3. üì• Message Fetching: Latest 10 messages per channel via MTProto API');console.log('4. ü§ñ AI Processing: OpenAI GPT-3.5-turbo for job extraction');console.log('5. üíæ Data Storage: Firestore jobs collection with deduplication');console.log('6. üìä Statistics: Updates channel stats (totalJobsScraped, lastScraped)');}},{text:'OK'}]);});return function handleScheduledScraping(){return _ref3.apply(this,arguments);};}();return _jsxs(ScrollView,{style:styles.container,children:[_jsxs(View,{style:styles.header,children:[_jsx(Text,{style:styles.title,children:\"\\uD83D\\uDCF1 Telegram Scraping System\"}),_jsx(Text,{style:styles.subtitle,children:\"Automated job scraping using Telegram User API + OpenAI\"})]}),_jsxs(View,{style:styles.statusContainer,children:[_jsx(Text,{style:styles.statusTitle,children:\"\\uD83E\\uDD16 System Status\"}),_jsx(Text,{style:styles.statusText,children:\"\\u2705 Scheduled Function: Active (9 AM UTC daily)\"}),_jsx(Text,{style:styles.statusText,children:\"\\uD83D\\uDD10 Authentication: Telegram User API\"}),_jsxs(Text,{style:styles.statusText,children:[\"\\uD83D\\uDCCA Active Channels: \",channels.filter(function(c){return c.isActive&&c.scrapingEnabled;}).length]}),_jsxs(Text,{style:styles.statusText,children:[\"\\uD83D\\uDD04 Last Updated: \",lastUpdate.toLocaleString()]})]}),_jsxs(View,{style:styles.channelsContainer,children:[_jsx(Text,{style:styles.channelsTitle,children:\"\\uD83D\\uDCCB Active Channels\"}),loading?_jsx(Text,{style:styles.loadingText,children:\"Loading channels...\"}):channels.length===0?_jsx(Text,{style:styles.noChannelsText,children:\"No channels configured\"}):channels.filter(function(c){return c.isActive&&c.scrapingEnabled;}).map(function(channel){return _jsxs(View,{style:styles.channelItem,children:[_jsxs(View,{style:styles.channelHeader,children:[_jsxs(Text,{style:styles.channelName,children:[\"@\",channel.username]}),_jsx(View,{style:styles.statusBadge,children:_jsx(Text,{style:styles.statusBadgeText,children:\"Active\"})})]}),_jsxs(Text,{style:styles.channelDetails,children:[channel.name,\" \\u2022 \",channel.category]}),_jsxs(Text,{style:styles.channelStats,children:[\"\\uD83D\\uDCCA Jobs Scraped: \",channel.totalJobsScraped||0]}),channel.lastScraped&&_jsxs(Text,{style:styles.channelStats,children:[\"\\uD83D\\uDD50 Last Scraped: \",new Date(channel.lastScraped).toLocaleString()]})]},channel.id);}),channels.filter(function(c){return!c.isActive||!c.scrapingEnabled;}).length>0&&_jsxs(_Fragment,{children:[_jsx(Text,{style:styles.inactiveTitle,children:\"\\uD83D\\uDCA4 Inactive Channels\"}),channels.filter(function(c){return!c.isActive||!c.scrapingEnabled;}).map(function(channel){return _jsxs(View,{style:[styles.channelItem,styles.inactiveChannel],children:[_jsxs(Text,{style:styles.inactiveChannelName,children:[\"@\",channel.username]}),_jsx(Text,{style:styles.channelDetails,children:channel.name})]},channel.id);})]})]}),(scrapingStatus.isRunning||scrapingLogs.length>0)&&_jsxs(View,{style:styles.loggingContainer,children:[_jsx(Text,{style:styles.loggingTitle,children:\"\\uD83D\\uDD0D Scraping Activity\"}),scrapingStatus.isRunning&&_jsxs(View,{style:styles.statusPanel,children:[_jsxs(Text,{style:styles.currentStatus,children:[\"Status: \",scrapingStatus.currentStep]}),_jsx(View,{style:styles.progressBar,children:_jsx(View,{style:[styles.progressFill,{width:`${scrapingStatus.progress}%`}]})}),_jsxs(Text,{style:styles.progressText,children:[scrapingStatus.progress,\"% Complete\"]}),scrapingStatus.startTime&&_jsxs(Text,{style:styles.timeText,children:[\"\\u23F1\\uFE0F Started: \",scrapingStatus.startTime.toLocaleTimeString()]})]}),scrapingLogs.length>0&&_jsxs(View,{style:styles.logsPanel,children:[_jsx(Text,{style:styles.logsTitle,children:\"\\uD83D\\uDCCB Activity Logs\"}),_jsx(ScrollView,{style:styles.logsScroll,showsVerticalScrollIndicator:true,children:scrapingLogs.map(function(log,index){return _jsx(Text,{style:styles.logEntry,children:log},index);})}),_jsx(TouchableOpacity,{style:styles.clearLogsButton,onPress:function onPress(){return setScrapingLogs([]);},children:_jsx(Text,{style:styles.clearLogsText,children:\"\\uD83D\\uDDD1\\uFE0F Clear Logs\"})})]})]}),_jsxs(View,{style:styles.actionContainer,children:[_jsx(TouchableOpacity,{style:styles.actionButton,onPress:handleScheduledScraping,disabled:loading,children:_jsx(Text,{style:styles.actionButtonText,children:\"\\u2139\\uFE0F About Scheduled Function\"})}),_jsx(TouchableOpacity,{style:styles.manualButton,onPress:handleManualTrigger,disabled:loading,children:_jsx(Text,{style:styles.manualButtonText,children:loading?'ÔøΩ Scraping in Progress...':'üöÄ Run Scraping NOW'})}),_jsx(TouchableOpacity,{style:styles.refreshButton,onPress:loadChannels,disabled:loading,children:_jsx(Text,{style:styles.refreshButtonText,children:loading?'üîÑ Loading...':'üîÑ Refresh Channels'})})]}),_jsxs(View,{style:styles.infoContainer,children:[_jsx(Text,{style:styles.infoTitle,children:\"\\uD83D\\uDD27 How It Works\"}),_jsx(Text,{style:styles.infoText,children:\"1. \\uD83D\\uDD58 Runs daily at 9 AM UTC automatically\"}),_jsx(Text,{style:styles.infoText,children:\"2. \\uD83D\\uDD10 Connects with your Telegram user account\"}),_jsx(Text,{style:styles.infoText,children:\"3. \\uD83D\\uDCCB Queries all active channels from Firestore\"}),_jsx(Text,{style:styles.infoText,children:\"4. \\uD83D\\uDCE5 Fetches latest 10 messages from each channel\"}),_jsx(Text,{style:styles.infoText,children:\"5. \\uD83E\\uDD16 Uses OpenAI to extract job information\"}),_jsx(Text,{style:styles.infoText,children:\"6. \\uD83D\\uDCBE Saves validated jobs to Firestore\"}),_jsx(Text,{style:styles.infoText,children:\"7. \\uD83D\\uDEAB Automatically prevents duplicate jobs\"})]}),_jsxs(View,{style:styles.requirementsContainer,children:[_jsx(Text,{style:styles.infoTitle,children:\"\\u2699\\uFE0F Environment Variables Required\"}),_jsx(Text,{style:styles.requirementText,children:\"\\u2022 TELEGRAM_API_ID: Your Telegram app ID\"}),_jsx(Text,{style:styles.requirementText,children:\"\\u2022 TELEGRAM_API_HASH: Your Telegram app hash\"}),_jsx(Text,{style:styles.requirementText,children:\"\\u2022 TELEGRAM_SESSION_STRING: User session for auth\"}),_jsx(Text,{style:styles.requirementText,children:\"\\u2022 OPENAI_API_KEY: OpenAI API for job extraction\"})]})]});}var styles=StyleSheet.create({container:{flex:1,backgroundColor:colors.cream},header:{padding:20,backgroundColor:colors.deepNavy,alignItems:'center'},title:{fontSize:24,fontWeight:'bold',color:colors.white,marginBottom:8},subtitle:{fontSize:16,color:colors.beeYellow,textAlign:'center'},statusContainer:{margin:16,padding:16,backgroundColor:colors.white,borderRadius:12,shadowColor:colors.charcoal,shadowOffset:{width:0,height:2},shadowOpacity:0.1,shadowRadius:4,elevation:3},statusTitle:{fontSize:18,fontWeight:'bold',color:colors.deepNavy,marginBottom:12},statusText:{fontSize:14,color:colors.charcoal,marginBottom:6},channelsContainer:{margin:16,marginTop:0},channelsTitle:{fontSize:18,fontWeight:'bold',color:colors.deepNavy,marginBottom:12},channelItem:{backgroundColor:colors.white,padding:16,borderRadius:12,marginBottom:12,shadowColor:colors.charcoal,shadowOffset:{width:0,height:2},shadowOpacity:0.1,shadowRadius:4,elevation:3},channelHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},channelName:{fontSize:16,fontWeight:'bold',color:colors.deepNavy},statusBadge:{backgroundColor:colors.success,paddingHorizontal:8,paddingVertical:4,borderRadius:12},statusBadgeText:{color:colors.white,fontSize:12,fontWeight:'bold'},channelDetails:{fontSize:14,color:colors.warmGray,marginBottom:4},channelStats:{fontSize:12,color:colors.charcoal,marginTop:2},loadingText:{textAlign:'center',color:colors.warmGray,fontStyle:'italic',padding:20},noChannelsText:{textAlign:'center',color:colors.warmGray,fontStyle:'italic',padding:20},inactiveTitle:{fontSize:16,fontWeight:'bold',color:colors.warmGray,marginTop:16,marginBottom:8},inactiveChannel:{opacity:0.6,backgroundColor:colors.lightGray},inactiveChannelName:{fontSize:14,color:colors.warmGray,fontWeight:'bold'},actionContainer:{padding:16,gap:12},actionButton:{backgroundColor:colors.deepNavy,paddingVertical:16,borderRadius:12,alignItems:'center'},actionButtonText:{color:colors.white,fontSize:16,fontWeight:'bold'},manualButton:{backgroundColor:colors.beeYellow,paddingVertical:16,borderRadius:12,alignItems:'center'},manualButtonText:{color:colors.deepNavy,fontSize:16,fontWeight:'bold'},refreshButton:{backgroundColor:colors.success,paddingVertical:16,borderRadius:12,alignItems:'center'},refreshButtonText:{color:colors.white,fontSize:16,fontWeight:'bold'},infoContainer:{margin:16,marginTop:0,padding:16,backgroundColor:colors.white,borderRadius:12},infoTitle:{fontSize:16,fontWeight:'bold',color:colors.deepNavy,marginBottom:12},infoText:{fontSize:14,color:colors.charcoal,marginBottom:8,lineHeight:20},requirementsContainer:{margin:16,marginTop:0,padding:16,backgroundColor:colors.lightGray,borderRadius:12},requirementText:{fontSize:13,color:colors.charcoal,marginBottom:6,fontFamily:'monospace'},loggingContainer:{margin:16,marginTop:0,padding:16,backgroundColor:colors.white,borderRadius:12,borderWidth:2,borderColor:colors.beeYellow},loggingTitle:{fontSize:18,fontWeight:'bold',color:colors.deepNavy,marginBottom:16,textAlign:'center'},statusPanel:{backgroundColor:colors.lightGray,padding:12,borderRadius:8,marginBottom:16},currentStatus:{fontSize:14,fontWeight:'bold',color:colors.deepNavy,marginBottom:8},progressBar:{height:6,backgroundColor:colors.cream,borderRadius:3,marginVertical:8,overflow:'hidden'},progressFill:{height:'100%',backgroundColor:colors.beeYellow,borderRadius:3},progressText:{fontSize:12,color:colors.warmGray,textAlign:'center',marginBottom:4},timeText:{fontSize:11,color:colors.warmGray,fontStyle:'italic'},logsPanel:{backgroundColor:colors.charcoal,borderRadius:8,padding:12,maxHeight:200},logsTitle:{fontSize:14,fontWeight:'bold',color:colors.white,marginBottom:8},logsScroll:{maxHeight:120,marginBottom:8},logEntry:{fontSize:11,color:colors.cream,fontFamily:'monospace',marginBottom:2,lineHeight:16},clearLogsButton:{backgroundColor:colors.danger,paddingVertical:6,paddingHorizontal:12,borderRadius:4,alignSelf:'flex-end'},clearLogsText:{color:colors.white,fontSize:11,fontWeight:'bold'}});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","ScrollView","Alert","collection","getDocs","httpsCallable","db","functions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","colors","beeYellow","honeyGold","darkYellow","deepNavy","charcoal","cream","white","warmGray","lightGray","success","danger","warning","TelegramChannelsManager","_useState","_useState2","_slicedToArray","channels","setChannels","_useState3","_useState4","loading","setLoading","_useState5","Date","_useState6","lastUpdate","setLastUpdate","_useState7","_useState8","scrapingLogs","setScrapingLogs","_useState9","isRunning","currentStep","progress","_useState0","scrapingStatus","setScrapingStatus","loadChannels","_ref","_asyncToGenerator","channelsSnapshot","channelsData","docs","map","doc","_objectSpread","id","data","error","console","alert","apply","arguments","addLog","message","timestamp","toLocaleTimeString","logMessage","prev","concat","_toConsumableArray","slice","log","updateStatus","step","length","undefined","lastActivity","handleManualTrigger","_ref2","filter","c","isActive","scrapingEnabled","text","style","onPress","_onPress","startTime","runScrapingNow","result","totalJobs","totalChannels","totalMessages","channelResults","forEach","channel","index","username","jobsExtracted","messagesProcessed","setTimeout","Error","stack","handleScheduledScraping","_ref3","styles","container","children","header","title","subtitle","statusContainer","statusTitle","statusText","toLocaleString","channelsContainer","channelsTitle","loadingText","noChannelsText","channelItem","channelHeader","channelName","statusBadge","statusBadgeText","channelDetails","name","category","channelStats","totalJobsScraped","lastScraped","inactiveTitle","inactiveChannel","inactiveChannelName","loggingContainer","loggingTitle","statusPanel","currentStatus","progressBar","progressFill","width","progressText","timeText","logsPanel","logsTitle","logsScroll","showsVerticalScrollIndicator","logEntry","clearLogsButton","clearLogsText","actionContainer","actionButton","disabled","actionButtonText","manualButton","manualButtonText","refreshButton","refreshButtonText","infoContainer","infoTitle","infoText","requirementsContainer","requirementText","create","flex","backgroundColor","padding","alignItems","fontSize","fontWeight","color","marginBottom","textAlign","margin","borderRadius","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","marginTop","flexDirection","justifyContent","paddingHorizontal","paddingVertical","fontStyle","opacity","gap","lineHeight","fontFamily","borderWidth","borderColor","marginVertical","overflow","maxHeight","alignSelf"],"sources":["/home/nathan/Documents/Workspace/NibJobs 2.0/mobile/src/components/TelegramChannelsManager.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  ScrollView,\n  Alert,\n} from 'react-native';\nimport { collection, getDocs } from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { db, functions } from '../config/firebase';\n\nconst colors = {\n  beeYellow: '#F4C430',\n  honeyGold: '#D4AF37',\n  darkYellow: '#B8860B',\n  deepNavy: '#1A1B3E',\n  charcoal: '#2C2C2C',\n  cream: '#FFF9E6',\n  white: '#FFFFFF',\n  warmGray: '#6B6B6B',\n  lightGray: '#F5F5F5',\n  success: '#27AE60',\n  danger: '#E74C3C',\n  warning: '#F39C12'\n};\n\ninterface TelegramChannel {\n  id: string;\n  username: string;\n  name: string;\n  imageUrl?: string;\n  category: string;\n  isActive: boolean;\n  scrapingEnabled: boolean;\n  totalJobsScraped: number;\n  lastScraped?: Date;\n}\n\nexport default function TelegramChannelsManager() {\n  const [channels, setChannels] = useState<TelegramChannel[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [lastUpdate, setLastUpdate] = useState<Date>(new Date());\n  const [scrapingLogs, setScrapingLogs] = useState<string[]>([]);\n  const [scrapingStatus, setScrapingStatus] = useState<{\n    isRunning: boolean;\n    currentStep: string;\n    progress: number;\n    startTime?: Date;\n    lastActivity?: Date;\n  }>({\n    isRunning: false,\n    currentStep: '',\n    progress: 0\n  });\n\n  // Load channels from Firestore\n  const loadChannels = async () => {\n    try {\n      setLoading(true);\n      const channelsSnapshot = await getDocs(collection(db, 'telegramChannels'));\n      const channelsData = channelsSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })) as TelegramChannel[];\n      \n      setChannels(channelsData);\n      setLastUpdate(new Date());\n    } catch (error) {\n      console.error('Error loading channels:', error);\n      Alert.alert('Error', 'Failed to load telegram channels');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadChannels();\n  }, []);\n\n  // Helper function to add logs\n  const addLog = (message: string) => {\n    const timestamp = new Date().toLocaleTimeString();\n    const logMessage = `[${timestamp}] ${message}`;\n    setScrapingLogs(prev => [...prev.slice(-20), logMessage]); // Keep last 20 logs\n    console.log(logMessage);\n  };\n\n  // Helper function to update scraping status\n  const updateStatus = (step: string, progress: number = 0) => {\n    setScrapingStatus(prev => ({\n      ...prev,\n      currentStep: step,\n      progress,\n      lastActivity: new Date()\n    }));\n    addLog(step);\n  };\n\n  const handleManualTrigger = async () => {\n    Alert.alert(\n      'Run Scraping Now üöÄ',\n      `This will immediately run the Telegram scraping function using your authentication credentials.\\n\\nIt will:\\n‚Ä¢ Connect to Telegram with your account\\n‚Ä¢ Process all ${channels.filter(c => c.isActive && c.scrapingEnabled).length} active channels\\n‚Ä¢ Extract jobs using OpenAI\\n‚Ä¢ Save results to Firestore\\n\\nThis may take 2-5 minutes depending on the number of channels.`,\n      [\n        { text: 'Cancel', style: 'cancel' },\n        { \n          text: 'Run Now', \n          onPress: async () => {\n            // Initialize scraping state\n            setLoading(true);\n            setScrapingLogs([]);\n            setScrapingStatus({\n              isRunning: true,\n              currentStep: 'Initializing...',\n              progress: 0,\n              startTime: new Date()\n            });\n            \n            try {\n              addLog('üöÄ Starting manual Telegram scraping...');\n              updateStatus('üìã Connecting to Firebase Functions...', 10);\n              \n              console.log('üîç DEBUG: Creating Firebase function callable...');\n              console.log('üîç DEBUG: Functions object:', functions);\n              \n              const runScrapingNow = httpsCallable(functions, 'runTelegramScrapingNow');\n              console.log('üîç DEBUG: Function callable created:', runScrapingNow);\n              \n              updateStatus('üîê Authenticating with Telegram...', 20);\n              addLog('üì° Sending request to cloud function...');\n              console.log('üîç DEBUG: About to call function...');\n              \n              console.log('üîç DEBUG: Calling function now...');\n              const result = await runScrapingNow();\n              console.log('üîç DEBUG: Function call completed');\n              \n              updateStatus('‚úÖ Function executed successfully', 90);\n              addLog('üìä Processing response...');\n              \n              console.log('üìä Manual scraping result:', result);\n              const data = result.data as any;\n              \n              if (data.success) {\n                updateStatus(`üéâ Complete! Extracted ${data.totalJobs} jobs`, 100);\n                addLog(`‚úÖ Processed ${data.totalChannels} channels`);\n                addLog(`üì• Analyzed ${data.totalMessages} messages`);\n                addLog(`üéØ Extracted ${data.totalJobs} jobs`);\n                addLog('üíæ Jobs saved to Firestore database');\n                \n                Alert.alert(\n                  'Scraping Complete! üéâ',\n                  `‚úÖ Successfully processed ${data.totalChannels} channels\\nüì• Analyzed ${data.totalMessages} messages\\nüéØ Extracted ${data.totalJobs} jobs\\n\\nüíæ Check Firestore jobs collection for results!`,\n                  [\n                    { \n                      text: 'View Details', \n                      onPress: () => {\n                        console.log('üìã Detailed scraping results:');\n                        console.log(`Total Channels: ${data.totalChannels}`);\n                        console.log(`Total Messages: ${data.totalMessages}`);\n                        console.log(`Total Jobs: ${data.totalJobs}`);\n                        console.log('Channel Results:');\n                        data.channelResults.forEach((channel: any, index: number) => {\n                          if (channel.error) {\n                            console.log(`${index + 1}. @${channel.username}: ERROR - ${channel.error}`);\n                          } else {\n                            console.log(`${index + 1}. @${channel.username}: ${channel.jobsExtracted} jobs from ${channel.messagesProcessed} messages`);\n                          }\n                        });\n                        console.log('\\nüîó View jobs: https://console.firebase.google.com/project/nibjobs-dev/firestore/data/~2Fjobs');\n                      }\n                    },\n                    { text: 'OK' }\n                  ]\n                );\n                \n                // Refresh channels to see updated stats\n                setTimeout(() => {\n                  loadChannels();\n                }, 2000);\n                \n              } else {\n                updateStatus('‚ùå Scraping failed', 0);\n                addLog(`‚ùå Error: ${data.error}`);\n                addLog('üîç Check Firebase logs for details');\n                \n                Alert.alert(\n                  'Scraping Failed ‚ùå',\n                  `Error: ${data.error}\\n\\nCheck Firebase Functions logs for more details.`,\n                  [\n                    { \n                      text: 'View Logs', \n                      onPress: () => {\n                        console.log('ÔøΩ View Firebase logs: https://console.firebase.google.com/project/nibjobs-dev/functions/logs');\n                        console.log('üîç Search for \"runTelegramScrapingNow\" in the logs');\n                      }\n                    },\n                    { text: 'OK' }\n                  ]\n                );\n              }\n              \n            } catch (error) {\n              console.error('üîç DEBUG: Function call failed:', error);\n              if (error instanceof Error) {\n                console.error('üîç DEBUG: Error details:', error.message);\n                console.error('üîç DEBUG: Error stack:', error.stack);\n              }\n              \n              updateStatus('üí• Function error occurred', 0);\n              addLog(`üí• Error: ${error}`);\n              addLog('üîç Check browser console for details');\n              \n              console.error('üí• Manual scraping error:', error);\n              Alert.alert(\n                'Function Error',\n                `Failed to execute scraping function:\\n\\n${error}\\n\\nThis might be due to:\\n‚Ä¢ Missing environment variables\\n‚Ä¢ Telegram authentication issues\\n‚Ä¢ Network problems`,\n                [\n                  { \n                    text: 'View Console', \n                    onPress: () => {\n                      console.log('üîç Check browser console (F12) for detailed error information');\n                      console.log('üìä Check Firebase logs: https://console.firebase.google.com/project/nibjobs-dev/functions/logs');\n                    }\n                  },\n                  { text: 'OK' }\n                ]\n              );\n            } finally {\n              setLoading(false);\n              setScrapingStatus(prev => ({ ...prev, isRunning: false }));\n              addLog('üèÅ Scraping session ended');\n            }\n          } \n        }\n      ]\n    );\n  };  const handleScheduledScraping = async () => {\n    Alert.alert(\n      'Scheduled Telegram Scraping',\n      'This function runs automatically at 9 AM UTC daily. It:\\n\\nüîê Uses your Telegram user credentials\\nüìã Queries all active channels\\nüì• Fetches latest 10 messages per channel\\nü§ñ Uses OpenAI for job extraction\\nüíæ Saves jobs to Firestore\\nüö´ Avoids duplicates',\n      [\n        { text: 'View Implementation', onPress: () => {\n          console.log('üîç Function Implementation Details:');\n          console.log('1. üîê Telegram Authentication: Uses TELEGRAM_SESSION_STRING, API_ID, API_HASH');\n          console.log('2. üìã Channel Query: WHERE isActive==true AND scrapingEnabled==true');\n          console.log('3. üì• Message Fetching: Latest 10 messages per channel via MTProto API');\n          console.log('4. ü§ñ AI Processing: OpenAI GPT-3.5-turbo for job extraction');\n          console.log('5. üíæ Data Storage: Firestore jobs collection with deduplication');\n          console.log('6. üìä Statistics: Updates channel stats (totalJobsScraped, lastScraped)');\n        }},\n        { text: 'OK' }\n      ]\n    );\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.header}>\n        <Text style={styles.title}>üì± Telegram Scraping System</Text>\n        <Text style={styles.subtitle}>\n          Automated job scraping using Telegram User API + OpenAI\n        </Text>\n      </View>\n\n      {/* System Status */}\n      <View style={styles.statusContainer}>\n        <Text style={styles.statusTitle}>ü§ñ System Status</Text>\n        <Text style={styles.statusText}>\n          ‚úÖ Scheduled Function: Active (9 AM UTC daily)\n        </Text>\n        <Text style={styles.statusText}>\n          üîê Authentication: Telegram User API \n        </Text>\n        <Text style={styles.statusText}>\n          üìä Active Channels: {channels.filter(c => c.isActive && c.scrapingEnabled).length}\n        </Text>\n        <Text style={styles.statusText}>\n          üîÑ Last Updated: {lastUpdate.toLocaleString()}\n        </Text>\n      </View>\n\n      {/* Channel Statistics */}\n      <View style={styles.channelsContainer}>\n        <Text style={styles.channelsTitle}>üìã Active Channels</Text>\n        \n        {loading ? (\n          <Text style={styles.loadingText}>Loading channels...</Text>\n        ) : channels.length === 0 ? (\n          <Text style={styles.noChannelsText}>No channels configured</Text>\n        ) : (\n          channels\n            .filter(c => c.isActive && c.scrapingEnabled)\n            .map(channel => (\n              <View key={channel.id} style={styles.channelItem}>\n                <View style={styles.channelHeader}>\n                  <Text style={styles.channelName}>@{channel.username}</Text>\n                  <View style={styles.statusBadge}>\n                    <Text style={styles.statusBadgeText}>Active</Text>\n                  </View>\n                </View>\n                <Text style={styles.channelDetails}>\n                  {channel.name} ‚Ä¢ {channel.category}\n                </Text>\n                <Text style={styles.channelStats}>\n                  üìä Jobs Scraped: {channel.totalJobsScraped || 0}\n                </Text>\n                {channel.lastScraped && (\n                  <Text style={styles.channelStats}>\n                    üïê Last Scraped: {new Date(channel.lastScraped).toLocaleString()}\n                  </Text>\n                )}\n              </View>\n            ))\n        )}\n        \n        {channels.filter(c => !c.isActive || !c.scrapingEnabled).length > 0 && (\n          <>\n            <Text style={styles.inactiveTitle}>üí§ Inactive Channels</Text>\n            {channels\n              .filter(c => !c.isActive || !c.scrapingEnabled)\n              .map(channel => (\n                <View key={channel.id} style={[styles.channelItem, styles.inactiveChannel]}>\n                  <Text style={styles.inactiveChannelName}>@{channel.username}</Text>\n                  <Text style={styles.channelDetails}>{channel.name}</Text>\n                </View>\n              ))\n            }\n          </>\n        )}\n      </View>\n\n      {/* Real-time Scraping Status & Logs */}\n      {(scrapingStatus.isRunning || scrapingLogs.length > 0) && (\n        <View style={styles.loggingContainer}>\n          <Text style={styles.loggingTitle}>üîç Scraping Activity</Text>\n          \n          {/* Current Status */}\n          {scrapingStatus.isRunning && (\n            <View style={styles.statusPanel}>\n              <Text style={styles.currentStatus}>\n                Status: {scrapingStatus.currentStep}\n              </Text>\n              <View style={styles.progressBar}>\n                <View \n                  style={[\n                    styles.progressFill, \n                    { width: `${scrapingStatus.progress}%` }\n                  ]} \n                />\n              </View>\n              <Text style={styles.progressText}>\n                {scrapingStatus.progress}% Complete\n              </Text>\n              {scrapingStatus.startTime && (\n                <Text style={styles.timeText}>\n                  ‚è±Ô∏è Started: {scrapingStatus.startTime.toLocaleTimeString()}\n                </Text>\n              )}\n            </View>\n          )}\n          \n          {/* Live Logs */}\n          {scrapingLogs.length > 0 && (\n            <View style={styles.logsPanel}>\n              <Text style={styles.logsTitle}>üìã Activity Logs</Text>\n              <ScrollView \n                style={styles.logsScroll}\n                showsVerticalScrollIndicator={true}\n              >\n                {scrapingLogs.map((log, index) => (\n                  <Text key={index} style={styles.logEntry}>\n                    {log}\n                  </Text>\n                ))}\n              </ScrollView>\n              <TouchableOpacity \n                style={styles.clearLogsButton}\n                onPress={() => setScrapingLogs([])}\n              >\n                <Text style={styles.clearLogsText}>üóëÔ∏è Clear Logs</Text>\n              </TouchableOpacity>\n            </View>\n          )}\n        </View>\n      )}\n\n      {/* Action Buttons */}\n      <View style={styles.actionContainer}>\n        <TouchableOpacity \n          style={styles.actionButton}\n          onPress={handleScheduledScraping}\n          disabled={loading}\n        >\n          <Text style={styles.actionButtonText}>\n            ‚ÑπÔ∏è About Scheduled Function\n          </Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity \n          style={styles.manualButton}\n          onPress={handleManualTrigger}\n          disabled={loading}\n        >\n          <Text style={styles.manualButtonText}>\n            {loading ? 'ÔøΩ Scraping in Progress...' : 'üöÄ Run Scraping NOW'}\n          </Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity \n          style={styles.refreshButton}\n          onPress={loadChannels}\n          disabled={loading}\n        >\n          <Text style={styles.refreshButtonText}>\n            {loading ? 'üîÑ Loading...' : 'üîÑ Refresh Channels'}\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Information */}\n      <View style={styles.infoContainer}>\n        <Text style={styles.infoTitle}>üîß How It Works</Text>\n        <Text style={styles.infoText}>\n          1. üïò Runs daily at 9 AM UTC automatically\n        </Text>\n        <Text style={styles.infoText}>\n          2. üîê Connects with your Telegram user account\n        </Text>\n        <Text style={styles.infoText}>\n          3. üìã Queries all active channels from Firestore\n        </Text>\n        <Text style={styles.infoText}>\n          4. üì• Fetches latest 10 messages from each channel\n        </Text>\n        <Text style={styles.infoText}>\n          5. ü§ñ Uses OpenAI to extract job information\n        </Text>\n        <Text style={styles.infoText}>\n          6. üíæ Saves validated jobs to Firestore\n        </Text>\n        <Text style={styles.infoText}>\n          7. üö´ Automatically prevents duplicate jobs\n        </Text>\n      </View>\n\n      {/* Requirements */}\n      <View style={styles.requirementsContainer}>\n        <Text style={styles.infoTitle}>‚öôÔ∏è Environment Variables Required</Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ TELEGRAM_API_ID: Your Telegram app ID\n        </Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ TELEGRAM_API_HASH: Your Telegram app hash  \n        </Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ TELEGRAM_SESSION_STRING: User session for auth\n        </Text>\n        <Text style={styles.requirementText}>\n          ‚Ä¢ OPENAI_API_KEY: OpenAI API for job extraction\n        </Text>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cream,\n  },\n  header: {\n    padding: 20,\n    backgroundColor: colors.deepNavy,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.white,\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 16,\n    color: colors.beeYellow,\n    textAlign: 'center',\n  },\n  statusContainer: {\n    margin: 16,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    shadowColor: colors.charcoal,\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  statusTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12,\n  },\n  statusText: {\n    fontSize: 14,\n    color: colors.charcoal,\n    marginBottom: 6,\n  },\n  channelsContainer: {\n    margin: 16,\n    marginTop: 0,\n  },\n  channelsTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12,\n  },\n  channelItem: {\n    backgroundColor: colors.white,\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n    shadowColor: colors.charcoal,\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  channelHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  channelName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n  },\n  statusBadge: {\n    backgroundColor: colors.success,\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n  },\n  statusBadgeText: {\n    color: colors.white,\n    fontSize: 12,\n    fontWeight: 'bold',\n  },\n  channelDetails: {\n    fontSize: 14,\n    color: colors.warmGray,\n    marginBottom: 4,\n  },\n  channelStats: {\n    fontSize: 12,\n    color: colors.charcoal,\n    marginTop: 2,\n  },\n  loadingText: {\n    textAlign: 'center',\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    padding: 20,\n  },\n  noChannelsText: {\n    textAlign: 'center',\n    color: colors.warmGray,\n    fontStyle: 'italic',\n    padding: 20,\n  },\n  inactiveTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.warmGray,\n    marginTop: 16,\n    marginBottom: 8,\n  },\n  inactiveChannel: {\n    opacity: 0.6,\n    backgroundColor: colors.lightGray,\n  },\n  inactiveChannelName: {\n    fontSize: 14,\n    color: colors.warmGray,\n    fontWeight: 'bold',\n  },\n  actionContainer: {\n    padding: 16,\n    gap: 12,\n  },\n  actionButton: {\n    backgroundColor: colors.deepNavy,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  actionButtonText: {\n    color: colors.white,\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  manualButton: {\n    backgroundColor: colors.beeYellow,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  manualButtonText: {\n    color: colors.deepNavy,\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  refreshButton: {\n    backgroundColor: colors.success,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  refreshButtonText: {\n    color: colors.white,\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  infoContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n  },\n  infoTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 12,\n  },\n  infoText: {\n    fontSize: 14,\n    color: colors.charcoal,\n    marginBottom: 8,\n    lineHeight: 20,\n  },\n  requirementsContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.lightGray,\n    borderRadius: 12,\n  },\n  requirementText: {\n    fontSize: 13,\n    color: colors.charcoal,\n    marginBottom: 6,\n    fontFamily: 'monospace',\n  },\n  // Logging and status styles\n  loggingContainer: {\n    margin: 16,\n    marginTop: 0,\n    padding: 16,\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    borderWidth: 2,\n    borderColor: colors.beeYellow,\n  },\n  loggingTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 16,\n    textAlign: 'center',\n  },\n  statusPanel: {\n    backgroundColor: colors.lightGray,\n    padding: 12,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  currentStatus: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: colors.deepNavy,\n    marginBottom: 8,\n  },\n  progressBar: {\n    height: 6,\n    backgroundColor: colors.cream,\n    borderRadius: 3,\n    marginVertical: 8,\n    overflow: 'hidden',\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: colors.beeYellow,\n    borderRadius: 3,\n  },\n  progressText: {\n    fontSize: 12,\n    color: colors.warmGray,\n    textAlign: 'center',\n    marginBottom: 4,\n  },\n  timeText: {\n    fontSize: 11,\n    color: colors.warmGray,\n    fontStyle: 'italic',\n  },\n  logsPanel: {\n    backgroundColor: colors.charcoal,\n    borderRadius: 8,\n    padding: 12,\n    maxHeight: 200,\n  },\n  logsTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: colors.white,\n    marginBottom: 8,\n  },\n  logsScroll: {\n    maxHeight: 120,\n    marginBottom: 8,\n  },\n  logEntry: {\n    fontSize: 11,\n    color: colors.cream,\n    fontFamily: 'monospace',\n    marginBottom: 2,\n    lineHeight: 16,\n  },\n  clearLogsButton: {\n    backgroundColor: colors.danger,\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n    borderRadius: 4,\n    alignSelf: 'flex-end',\n  },\n  clearLogsText: {\n    color: colors.white,\n    fontSize: 11,\n    fontWeight: 'bold',\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}